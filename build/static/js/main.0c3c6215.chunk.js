(this["webpackJsonp7s-web"]=this["webpackJsonp7s-web"]||[]).push([[0],{116:function(e,t){},156:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a(1),c=a.n(n),s=a(22),i=a.n(s),l=a(20),o=a(19),j=a(11),u=a(5),d=a(61),b={user:null};if(localStorage.getItem("JwtToken")){var O=Object(d.a)(localStorage.getItem("JwtToken"));1e3*O.exp<Date.now()?localStorage.removeItem("JwtToken"):b.user=O}var p=Object(n.createContext)({user:null,login:function(){},logout:function(){}});function h(e,t){switch(t.type){case"LOGIN":return Object(u.a)(Object(u.a)({},e),{},{user:t.payload});case"LOGOUT":return Object(u.a)(Object(u.a)({},e),{},{user:null});default:return e}}function x(e){var t=Object(n.useReducer)(h,b),a=Object(j.a)(t,2),c=a[0],s=a[1];return Object(r.jsx)(p.Provider,Object(u.a)({value:{user:c.user,login:function(e){localStorage.setItem("JwtToken",e),localStorage.setItem("user",b.user),s({type:"LOGIN",payload:e})},logout:function(){localStorage.removeItem("JwtToken"),s({type:"LOGOUT"})}}},e))}var f=a(44),m=(a(98),Object(n.createContext)()),v=function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],s=a[1];f.a.configure({autoClose:3e3,draggable:!1});return Object(r.jsx)(m.Provider,{value:{notify:function(e){return f.a.success(e)},badNotify:function(e){return f.a.error(e)},btsToast:c,setBtsToast:s},children:e.children})},y=a(12),g=a.n(y),k=a(14),C=a(32),w=a.n(C),S=a(27),I=function(){if(localStorage.getItem("JwtToken"))return Object(d.a)(localStorage.getItem("JwtToken"))},P=localStorage.getItem("JwtToken");f.a.configure({autoClose:3e3,draggable:!1});var L=function(e){return f.a.success(e)},T=function(e){return f.a.error(e)},A=(P&&I().name,P&&I().isAdmin,P?I():""),F=P?I().company:"",z=function(){var e=Object(k.a)(g.a.mark((function e(t){var a,r,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.api,r=t.data,t.message,t.notifytrue,e.prev=1,e.next=4,w.a.post(S.a+a,{data:Object(u.a)(Object(u.a)({},r),{},{company:F})},{headers:{"auth-token":P}});case 4:if((n=e.sent).data.data){e.next=10;break}return n.data.message&&L(n.data.message),e.abrupt("return",n.data);case 10:return L(n.data.message),e.abrupt("return",n.data.data);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(1),T(e.t0.response.data),e.abrupt("return",{error:e.t0});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),G=Object(n.createContext)(),N=function(e){var t=Object(n.useState)([]),a=Object(j.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!1),l=Object(j.a)(i,2),o=l[0],u=l[1],d=Object(n.useState)(!1),b=Object(j.a)(d,2),O=b[0],p=b[1],h=Object(n.useState)({}),x=Object(j.a)(h,2),f=x[0],m=x[1],v=function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({api:"/api/user/delete",data:{id:t}});case 2:(a=e.sent).error||s(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({api:"/api/user/query/allusers"});case 2:(t=e.sent).error||s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({api:"/api/user/password/change",data:{id:A._id,password:t},message:"Password changed",notifytrue:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({api:"/api/user/password/reset",data:{id:t},message:"Pasword reset done,email sent",notifytrue:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({api:"/api/user/edit",data:{id:f.id,workPlace:f.place.value,name:f.name,email:f.email,isAdmin:f.isAdmin,manager:f.manager}});case 2:(t=e.sent).error||(s(t),m({}),p(!O));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({api:"/api/user/create",data:{name:t.name,email:t.email,workPlace:t.workPlace,isAdmin:t.isAdmin,manager:t.manager,responsibleForPlace:t.responsibleForPlace}});case 2:(a=e.sent).error||s(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="getAllUsers"===e.t0?3:"createUserModal"===e.t0?5:"createUser"===e.t0?7:"editUserModal"===e.t0?9:"editSelected"===e.t0?12:"editUser"===e.t0?14:"closeEditModal"===e.t0?16:"deleteUser"===e.t0?18:"resetPassword"===e.t0?20:"changePassword"===e.t0?22:24;break;case 3:return y(),e.abrupt("break",25);case 5:return u(!o),e.abrupt("break",25);case 7:return I(t.payload),e.abrupt("break",25);case 9:return p(!O),m(t.payload),e.abrupt("break",25);case 12:return m(t.payload),e.abrupt("break",25);case 14:return S(),e.abrupt("break",25);case 16:return p(!O),e.abrupt("break",25);case 18:return v(t.payload.id),e.abrupt("break",25);case 20:return w(t.payload),e.abrupt("break",25);case 22:return C(t.payload),e.abrupt("break",25);case 24:console.log(t.type);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(G.Provider,{value:{allUsers:c,User:A,userFunctions:P,createModal:o,editModal:O,selected:f},children:e.children})},M=Object(n.createContext)(),E=function(e){var t=Object(n.useState)(1),a=Object(j.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!1),l=Object(j.a)(i,2),o=l[0],u=l[1],d=Object(n.useState)(""),b=Object(j.a)(d,2),O=b[0],p=b[1],h=Object(n.useState)([]),x=Object(j.a)(h,2),f=x[0],m=x[1],v=Object(n.useState)({}),y=Object(j.a)(v,2),C=y[0],w=y[1],S=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({api:"/api/places/query/allplaces"});case 2:t=e.sent,p(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({api:"/api/places/query/noresponsible"});case 2:t=e.sent,m(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({api:"/api/places/delete",data:t});case 2:(a=e.sent).error||p(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({api:"/api/places/create",data:t});case 2:(a=e.sent).error||p(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({api:"/api/places/edit",data:{id:C.id,responsible:C.user?C.user.value:"",placeName:C.placeName}});case 2:(t=e.sent).error||(p(t),u(!o));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="createPlace"===e.t0?3:"closeEditModal"===e.t0?5:"setEditModal"===e.t0?7:"editSelected"===e.t0?10:"editPlace"===e.t0?12:"deletePlace"===e.t0?14:"getAllPlaces"===e.t0?16:"withoutManager"===e.t0?18:"setActivePage"===e.t0?20:21;break;case 3:return L(t.payload),e.abrupt("break",22);case 5:return u(!o),e.abrupt("break",22);case 7:return u(!o),w(t.payload),e.abrupt("break",22);case 10:return w(t.payload),e.abrupt("break",22);case 12:return T(),e.abrupt("break",22);case 14:return P(t.payload),e.abrupt("break",22);case 16:return S(),e.abrupt("break",22);case 18:return I(),e.abrupt("break",22);case 20:s(t.payload);case 21:alert(t.type);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(M.Provider,{value:{placeFunctions:A,modal:o,places:O,activePage:c,withoutManager:f,selected:C},children:e.children})},R=Object(n.createContext)(),D=function(e){var t=Object(n.useState)([]),a=Object(j.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)([]),l=Object(j.a)(i,2),o=l[0],u=l[1],d=Object(n.useState)(!1),b=Object(j.a)(d,2),O=b[0],p=b[1],h=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({api:"/api/auditrulles/query/all"});case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({api:"/api/auditrulles/query/familyoptions"});case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({api:"/api/auditrulles/create",data:{sofs:t.family,issue:t.issue,inspectable:t.inspectable,rating:[{point1:t.point1,rulle1:t.rulle1},{point2:t.point2,rulle2:t.rulle2},{point3:t.point3,rulle3:t.rulle3}]},message:"Rulle created",notifytrue:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="getRulles"===e.t0?3:"getFamilyOptions"===e.t0?5:"createModal"===e.t0?7:"deleteRulles"===e.t0?9:"editRulles"===e.t0?11:"createFamilyOptions"===e.t0?14:"editFamilyOptions"===e.t0?16:"deleteFamilyOptions"===e.t0?18:"createRulle"===e.t0?20:22;break;case 3:return h(),e.abrupt("break",23);case 5:return x(),e.abrupt("break",23);case 7:return p(!O),e.abrupt("break",23);case 9:return console.log(t),e.abrupt("break",23);case 11:return console.log(t),console.log("open edit modal"),e.abrupt("break",23);case 14:case 16:case 18:return console.log(t),e.abrupt("break",23);case 20:return f(t.payload),e.abrupt("break",23);case 22:console.log(t);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(R.Provider,{value:{auditRulles:c,familyOptions:o,auditFunctions:m,createModal:O},children:e.children})},U=Object(n.createContext)(),H=function(e){var t=Object(n.useState)([]),a=Object(j.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!1),l=Object(j.a)(i,2),o=l[0],d=l[1],b=Object(n.useState)(!1),O=Object(j.a)(b,2),p=O[0],h=O[1],x=Object(n.useState)([]),f=Object(j.a)(x,2),m=f[0],v=f[1],y=Object(n.useState)(""),C=Object(j.a)(y,2),w=C[0],S=C[1],I=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({api:"/api/tasks/querry/all"});case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({api:"/api/obstypes/querry/all"});case 2:t=e.sent,v(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({api:"/api/tasks/create",data:Object(u.a)(Object(u.a)({},t),{},{creatorId:A._id})});case 2:I();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({api:"/api/tasks/edit",data:{id:w.id,issue:w.issue,comment:w.comment,placeId:w.place.value,responsibleId:w.responsible.value,observationId:w.observationtype.value,priority:w.priority.value,status:w.status.value,deadline:w.deadline,creator:w.creator}});case 2:t=e.sent,h(!p),t.error||s(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({api:"/api/tasks/archive",data:{id:t}});case 2:(a=e.sent).error||s(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="getTasks"===e.t0?3:"getObservationTypes"===e.t0?5:"createModal"===e.t0?7:"createTask"===e.t0?9:"editTaskModal"===e.t0?11:"editSelectedTask"===e.t0?14:"editTask"===e.t0?16:"closeEditTaskModal"===e.t0?18:"archive"===e.t0?20:22;break;case 3:return I(),e.abrupt("break",23);case 5:return P(),e.abrupt("break",23);case 7:return d(!o),e.abrupt("break",23);case 9:return L(t.payload),e.abrupt("break",23);case 11:return h(!p),S(t.payload),e.abrupt("break",23);case 14:return S(t.payload),e.abrupt("break",23);case 16:return T(),e.abrupt("break",23);case 18:return h(!p),e.abrupt("break",23);case 20:return F(t.payload),e.abrupt("break",23);case 22:console.log(t.type);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(U.Provider,{value:{taskFunctions:G,tasks:c,createModal:o,observationtype:m,selectedTask:w,editTaskModal:p},children:e.children})},B=a(224),_=a(225),q=a(229),W=a(226),J=function(){var e=Object(n.useContext)(p),t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(""),l=Object(j.a)(i,2),o=l[0],u=l[1],d=Object(n.useState)(""),b=Object(j.a)(d,2),O=b[0],h=b[1],x=Object(n.useState)(),f=Object(j.a)(x,2),v=f[0],y=f[1],C=Object(n.useContext)(m),I=C.notify,P=C.badNotify,L=function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,w.a.post(S.a+"/api/auth/login",{email:o,password:O});case 4:a=e.sent,console.log(a),200===a.status&&(s(!0),I("Security code is sent"),console.log("yes loged in")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),P("Email or password is wrong");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var t=Object(k.a)(g.a.mark((function t(a){var r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,w.a.post(S.a+"/api/auth/confirm",{email:o,password:O,code:v});case 4:200===(r=t.sent).status&&(e.login(r.data),window.location="/quicktasks"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),P("wrong code"),s(!1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return!1===c?Object(r.jsx)(B.a,{fluid:"sm",children:Object(r.jsx)(_.a,{className:"justify-content-md-center",children:Object(r.jsxs)("div",{style:{marginTop:"10%"},children:[Object(r.jsx)("h2",{style:{fontWeight:"bold"},children:"7s web application"}),Object(r.jsxs)(q.a,{onSubmit:L,children:[Object(r.jsxs)(q.a.Group,{controlId:"formBasicEmail",children:[Object(r.jsx)(q.a.Label,{children:"Email address"}),Object(r.jsx)(q.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){return u(e.target.value)},value:o}),Object(r.jsx)(q.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(r.jsxs)(q.a.Group,{controlId:"formBasicPassword",children:[Object(r.jsx)(q.a.Label,{children:"Password"}),Object(r.jsx)(q.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)},value:O})]}),Object(r.jsx)(W.a,{variant:"primary",type:"submit",children:"Submit"})]})]})})}):Object(r.jsx)(B.a,{fluid:"sm",children:Object(r.jsx)(_.a,{className:"justify-content-md-center",children:Object(r.jsxs)("div",{style:{marginTop:"20%"},children:[Object(r.jsx)("h2",{style:{fontWeight:"bold"},children:"Please enter Code"}),Object(r.jsxs)(q.a,{onSubmit:T,children:[Object(r.jsx)(q.a.Group,{controlId:"code",children:Object(r.jsx)(q.a.Control,{type:"number",placeholder:"Code",value:v,onChange:function(e){return y(e.target.value)}})}),Object(r.jsx)(W.a,{variant:"primary",type:"submit",children:"Verify"})]})]})})})},V=a(230),K=a(231),Q=function(){var e=Object(n.useContext)(p),t=e.user,a=e.logout,c=Object(n.useState)("User"),s=Object(j.a)(c,2),i=s[0],u=s[1],d=Object(n.useState)("Company"),b=Object(j.a)(d,2),O=b[0],h=b[1],x=Object(n.useState)("/quicktask"),f=Object(j.a)(x,2),m=f[0],v=f[1];Object(n.useEffect)((function(){if(!t)return null;u(t.name),h(t.company)}),[t]);var y={color:"white",fontSize:18},g={color:"orange",fontSize:18},k=Object(r.jsx)("div",{children:Object(r.jsxs)(V.a,{bg:"primary",variant:"primary",children:[Object(r.jsx)(V.a.Brand,{style:{color:"White",fontSize:24},children:O}),Object(r.jsxs)(K.a,{className:"mr-auto",activeKey:"/tasks",onSelect:function(e){return v(e)},children:[Object(r.jsx)(K.a.Link,{as:l.b,to:"/tasks",style:"/tasks"===m?g:y,href:"/tasks",children:"Observations"}),Object(r.jsx)(K.a.Link,{as:l.b,to:"/audit",style:"/audit"===m?g:y,href:"/audit",children:"Audit"}),Object(r.jsx)(K.a.Link,{as:l.b,to:"/dashboard",style:"/dashboard"===m?g:y,href:"/dashboard",children:"Dashboard"})]}),Object(r.jsxs)(K.a,{className:"m-right",onSelect:function(e){return v(e)},children:[t&&t.isAdmin?Object(r.jsx)(K.a.Link,{as:l.b,to:"/settings",style:"/settings"===m?g:y,href:"/settings",children:"Settings"}):"",Object(r.jsx)(K.a.Link,{as:l.b,to:"/user/profile",style:"/user/profile"===m?g:y,href:"/user/edit",children:i})]}),Object(r.jsx)(K.a.Link,{onClick:a,style:y,children:"LogOut"})]})});return t?k:Object(r.jsx)(o.a,{to:"/login"})},X=a(228),Y=function(e){var t=e.value,a=e.onChange,c=e.placeholder,s=e.type,i=e.required,l=Object(n.useState)("hsla(44, 0%, 60%, 0.5)"),o=Object(j.a)(l,2),u=o[0],d=o[1],b=Object(n.useState)(1),O=Object(j.a)(b,2),p=O[0],h=O[1];return Object(r.jsx)("div",{children:Object(r.jsx)(q.a.Control,{dateStyle:"short",required:i,placeholder:c,type:s||"text",value:t,onChange:function(e){return a(e.target.value)},onBlur:function(){return h(1)},onFocus:function(){return h(2)},onMouseEnter:function(){return d("#aaaaaa")},onMouseLeave:function(){return d("hsla(44, 0%, 60%, 0.5)")},style:{boxShadow:"none",borderWidth:p,borderColor:u,fontSize:15,height:37}})})},Z=a(26),$=function(e){var t=e.placeholder,a=e.valueSelected,c=e.onChange,s=e.multi,i=e.clear,l=Object(n.useContext)(M),o=l.places,j=l.placeFunctions,d=[];return Object(n.useEffect)((function(){j({type:"getAllPlaces"})}),[]),o&&o.forEach((function(e){d.push({value:e._id,label:e.placeName})})),Object(r.jsx)(Z.a,{isClearabl:i,isMulti:s,options:d,onChange:function(e){return c(e)},placeholder:t,value:a,theme:function(e){return Object(u.a)(Object(u.a)({},e),{},{borderRadius:4,borderThickness:1,colors:Object(u.a)(Object(u.a)({},e.colors),{},{boxShadow:"#aaaaaa",primary:"#aaaaaa",primary25:"neutral5"})})}})},ee=function(e){var t=e.placeholder,a=e.valueSelected,c=e.onChange,s=Object(n.useContext)(M),i=s.places,l=s.placeFunctions,o=[];return Object(n.useEffect)((function(){l({type:"getAllPlaces"})}),[]),i&&i.filter((function(e){return!e.responsible})).forEach((function(e){o.push({value:e._id,label:e.placeName})})),Object(r.jsx)(Z.a,{isClearable:!0,isMulti:!0,options:o,onChange:function(e){return c(e)},placeholder:t,value:a,theme:function(e){return Object(u.a)(Object(u.a)({},e),{},{borderRadius:4,borderThickness:1,colors:Object(u.a)(Object(u.a)({},e.colors),{},{boxShadow:"#aaaaaa",primary:"#aaaaaa",primary25:"neutral5"})})}})},te=function(){var e=Object(n.useContext)(G),t=e.createModal,a=e.userFunctions,c=Object(n.useState)([]),s=Object(j.a)(c,2),i=s[0],l=s[1],o=Object(n.useState)(""),d=Object(j.a)(o,2),b=d[0],O=d[1],p=Object(n.useState)({isAdmin:!1,manager:!1,responsibleForPlace:[]}),h=Object(j.a)(p,2),x=h[0],f=h[1];console.log(i);var m=function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),i.forEach((function(e){return x.responsibleForPlace.push(e.value)})),e.next=4,a({type:"createUser",payload:Object(u.a)(Object(u.a)({},x),{},{workPlace:b.value})});case 4:f({isAdmin:!1,manager:!1,responsibleForPlace:[]}),O("");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{children:Object(r.jsxs)(X.a,{show:t,onHide:function(){a({type:"createUserModal"})},"aria-labelledby":"example-modal-sizes-title-sm",children:[Object(r.jsx)(X.a.Header,{closeButton:function(){a({type:"createUserModal"})},children:Object(r.jsx)(X.a.Title,{id:"example-modal-sizes-title-sm",children:"Create User"})}),Object(r.jsx)(X.a.Body,{children:Object(r.jsx)(B.a,{children:Object(r.jsx)("div",{style:{width:"90%",margin:"2%"},children:Object(r.jsxs)(q.a,{onSubmit:m,children:[Object(r.jsxs)(q.a.Group,{controlId:"formHorizontalEmail",children:[Object(r.jsx)(q.a.Label,{children:"Email"}),Object(r.jsx)(Y,{required:!0,type:"email",placeholder:"Email",onChange:function(e){return f(Object(u.a)(Object(u.a)({},x),{},{email:e}))},value:x.email||""})]}),Object(r.jsxs)(q.a.Group,{controlId:"formHorizontalName",children:[Object(r.jsx)(q.a.Label,{children:"Name"}),Object(r.jsx)(Y,{required:!0,placeholder:"Name",onChange:function(e){return f(Object(u.a)(Object(u.a)({},x),{},{name:e}))},value:x.name||""})]}),Object(r.jsxs)(q.a.Group,{controlId:"formHorizontalEmail",children:[Object(r.jsx)(q.a.Label,{children:"Working Place:"}),Object(r.jsx)($,{placeholder:"Select work place",valueSelected:b,onChange:function(e){O(e)}})]}),Object(r.jsx)(q.a.Group,{controlId:"formHorizontalCheck",children:Object(r.jsx)(q.a.Check,{defaultValue:!1,type:"switch",id:"custom-switch",label:"Administrator",onChange:function(){return f(Object(u.a)(Object(u.a)({},x),{},{isAdmin:!x.isAdmin}))},checked:x.isAdmin})}),Object(r.jsx)(q.a.Group,{controlId:"formHorizontalCheck",children:Object(r.jsx)(q.a.Check,{defaultValue:!1,type:"switch",id:"custom",label:"Manager",onChange:function(){return f(Object(u.a)(Object(u.a)({},x),{},{manager:!x.manager}))},checked:x.manager})}),!0===x.manager?Object(r.jsx)("div",{style:{marginBottom:"20%"},children:Object(r.jsx)(ee,{onChange:function(e){return l(e)},valueSelected:i})}):"",Object(r.jsx)(q.a.Group,{children:Object(r.jsx)(W.a,{disabled:!b,type:"submit",children:"Create"})})]})})})})]})})},ae=a(227),re=function(){var e=Object(n.useContext)(G),t=e.userFunctions,a=e.editModal,c=e.selected;return null===c?"":Object(r.jsx)("div",{children:Object(r.jsxs)(X.a,{show:a,onHide:function(){return t({type:"closeEditModal"})},"aria-labelledby":"example-modal-sizes-title-sm",children:[Object(r.jsx)(X.a.Header,{closeButton:!0,children:Object(r.jsx)(X.a.Title,{id:"example-modal-sizes-title-sm",children:"Edit User"})}),Object(r.jsx)(X.a.Body,{children:Object(r.jsx)(B.a,{children:Object(r.jsx)("div",{style:{width:"70%",margin:"10%"},children:Object(r.jsxs)(q.a,{onSubmit:function(e){e.preventDefault(),t({type:"editUser"})},children:[Object(r.jsxs)(q.a.Group,{controlId:"formHorizontalEmail",children:[Object(r.jsx)(q.a.Label,{children:"Email"}),Object(r.jsx)(Y,{type:"email",placeholder:"Email",onChange:function(e){return t({type:"editSelected",payload:Object(u.a)(Object(u.a)({},c),{},{email:e})})},value:c.email})]}),Object(r.jsxs)(q.a.Group,{controlId:"formHorizontalName",children:[Object(r.jsx)(q.a.Label,{children:"Name"}),Object(r.jsx)(Y,{placeholder:"Name",onChange:function(e){return t({type:"editSelected",payload:Object(u.a)(Object(u.a)({},c),{},{name:e})})},value:c.name})]}),Object(r.jsxs)(q.a.Group,{controlId:"formHorizontalEmail",children:[Object(r.jsx)(q.a.Label,{children:"Working Place"}),Object(r.jsx)($,{valueSelected:c.place,onChange:function(e){return t({type:"editSelected",payload:Object(u.a)(Object(u.a)({},c),{},{place:e})})}})]}),Object(r.jsx)(q.a.Group,{controlId:"formHorizontalCheck",children:Object(r.jsx)(q.a.Check,{type:"switch",id:"custom-switch",label:"Administrator",onChange:function(){return t({type:"editSelected",payload:Object(u.a)(Object(u.a)({},c),{},{isAdmin:!c.isAdmin})})},checked:c.isAdmin})}),Object(r.jsx)(q.a.Group,{controlId:"formHorizontalCheck",children:Object(r.jsx)(q.a.Check,{type:"switch",id:"custom",label:"Manager",onChange:function(){return t({type:"editSelected",payload:Object(u.a)(Object(u.a)({},c),{},{manager:!c.manager})})},checked:c.manager})}),Object(r.jsx)(q.a.Group,{children:Object(r.jsx)(W.a,{type:"submit",children:"Update"})})]})})})})]})})},ne=a(69),ce=function(e){var t=e.onClick;return Object(r.jsx)(W.a,{size:"sm",onClick:t,children:Object(r.jsx)(ne.b,{size:"1rem",color:"red"})})},se=(a(115),function(e){var t=e.onClick;return Object(r.jsx)(W.a,{size:"sm",onClick:t,variant:"danger",children:Object(r.jsx)(ne.a,{size:"1rem",color:"white"})})}),ie=function(){var e=Object(n.useContext)(G),t=e.userFunctions,a=e.allUsers,s=Object(n.useState)({name:"",email:"",workPlace:"",manager:!1,isAdmin:!1}),i=Object(j.a)(s,2),l=i[0];i[1];return a?Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsxs)(ae.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(r.jsx)("thead",{style:{backgroundColor:"#2f3c48",color:"white",textAlign:"center"},children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"Reset password"}),Object(r.jsx)("td",{children:"User Name"}),Object(r.jsx)("td",{children:"User Email"}),Object(r.jsx)("td",{children:"Workplace"}),Object(r.jsx)("td",{children:"Manager"}),Object(r.jsx)("td",{children:"Responsible"}),Object(r.jsx)("td",{children:"Admin"}),Object(r.jsx)("td",{children:"Delete"})]})}),Object(r.jsx)("tbody",{children:a.map((function(e){return Object(r.jsxs)("tr",{style:{textAlign:"center"},onDoubleClick:function(){t({type:"editUserModal",payload:{id:e._id,name:e.name,email:e.email,manager:e.manager,isAdmin:e.isAdmin,place:{value:e.workPlace._id,label:e.workPlace.placeName}}})},children:[Object(r.jsx)("td",{style:{width:"8%"},children:Object(r.jsx)(se,{onClick:function(){return t({type:"resetPassword",payload:e._id})}})}),Object(r.jsxs)("td",{children:[e.name," "]}),Object(r.jsx)("td",{children:e.email}),Object(r.jsx)("td",{children:e.workPlace?e.workPlace.placeName:"Non"}),Object(r.jsx)("td",{children:e.manager+""}),Object(r.jsx)("td",{children:e.responsibleForPlace.map((function(e){return e.placeName+","}))}),Object(r.jsx)("td",{children:e.isAdmin+""}),Object(r.jsx)("td",{style:{width:"4%"},children:Object(r.jsx)(ce,{onClick:function(){return t({type:"deleteUser",payload:{id:e._id}})}})})]},e._id)}))})]}),Object(r.jsx)(re,{selectedUser:l})]}):Object(r.jsx)(r.Fragment,{children:"...Loding"})},le=function(){var e=Object(o.g)().pathname;return Object(r.jsx)("div",{style:{marginTop:"1%"},children:Object(r.jsxs)(K.a,{variant:"tabs",activeKey:e,children:[Object(r.jsx)(K.a.Item,{style:{color:"red"},children:Object(r.jsx)(K.a.Link,{href:"/company",as:l.b,to:"/company",children:"Company"})}),Object(r.jsx)(K.a.Item,{children:Object(r.jsx)(K.a.Link,{href:"/user/create",as:l.b,to:"/user/create",children:"Users"})}),Object(r.jsx)(K.a.Item,{children:Object(r.jsx)(K.a.Link,{href:"/auditrulles",as:l.b,to:"/auditrulles",children:"Audit"})})]})})},oe=function(){var e=Object(n.useContext)(G).userFunctions;return Object(n.useEffect)((function(){e({type:"getAllUsers"})}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)(le,{}),Object(r.jsx)("h1",{style:{fontWeight:"bold",color:"#2f3c48",padding:"1%"},children:"Users"}),Object(r.jsx)(W.a,{onClick:function(){return e({type:"createUserModal"})},style:{marginBottom:"1%",marginLeft:"1%"},size:"sm",children:"Create User"}),Object(r.jsx)(te,{}),Object(r.jsx)(ie,{})]})},je=a(77),ue=function(e){var t=e.component,a=Object(je.a)(e,["component"]),c=Object(n.useContext)(p).user;return Object(r.jsx)(o.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return c?!c.isAdmin&&c?Object(r.jsx)(o.a,{to:"/"}):Object(r.jsx)(t,Object(u.a)({},e)):Object(r.jsx)(o.a,{to:"/login"})}}))},de=function(e){var t=e.component,a=Object(je.a)(e,["component"]),c=Object(n.useContext)(p).user;return Object(r.jsx)(o.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return c?Object(r.jsx)(t,Object(u.a)({},e)):Object(r.jsx)(o.a,{to:"/login"})}}))},be=a(113),Oe=function(e){var t=e.value,a=e.funk;return Object(r.jsxs)(q.a.Control,{as:"select",onClick:function(e){a(e.target.value)},children:[Object(r.jsx)("option",{children:"Select Group"}),t||t.length>0?t.map((function(e){return Object(r.jsx)("option",{value:e.family,children:e.family},e._id)})):""]})},pe=function(){var e=Object(n.useContext)(R),t=e.auditFunctions,a=e.createModal,c=e.familyOptions,s=Object(n.useState)({family:"",issue:"",inspectable:"",point1:"",rulle1:"",point2:"",rulle2:"",point3:"",rulle3:""}),i=Object(j.a)(s,2),l=i[0],o=i[1],d=""===l.family||""===l.issue||""===l.inspectable||""===l.point1||""===l.rulle1||""===l.point2||""===l.rulle3||""===l.point3;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(X.a,{size:"lg",show:a,onHide:function(){return t({type:"createModal"})},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(r.jsx)(X.a.Header,{closeButton:!0,children:Object(r.jsx)(X.a.Title,{id:"example-modal-sizes-title-lg",children:"Create Audit Rulles"})}),Object(r.jsx)(X.a.Body,{children:Object(r.jsxs)(q.a,{onSubmit:function(e){e.preventDefault(),t({type:"createRulle",payload:l}),o({family:"",issue:"",inspectable:"",point1:"",rulle1:"",point2:"",rulle2:"",point3:"",rulle3:""})},children:[Object(r.jsx)(q.a.Row,{style:{width:"50%"},children:Object(r.jsxs)(q.a.Group,{as:be.a,controlId:"formGridEmail",children:[Object(r.jsx)(q.a.Label,{children:"Family"}),Object(r.jsx)(Oe,{value:c,funk:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{family:e}))}})]})}),Object(r.jsxs)(q.a.Row,{children:[Object(r.jsxs)(q.a.Group,{as:be.a,controlId:"issue",children:[Object(r.jsx)(q.a.Label,{children:"Issue"}),Object(r.jsx)(q.a.Control,{value:l.issue,type:"text",placeholder:"Issue",onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{issue:e.target.value}))}})]}),Object(r.jsxs)(q.a.Group,{as:be.a,controlId:"inspectable",children:[Object(r.jsx)(q.a.Label,{children:"Inspectable"}),Object(r.jsx)(q.a.Control,{value:l.inspectable,type:"text",placeholder:"Inspectable",onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{inspectable:e.target.value}))}})]})]}),Object(r.jsxs)(q.a.Row,{children:[Object(r.jsxs)(q.a.Group,{xs:2,as:be.a,controlId:"1points",children:[Object(r.jsx)(q.a.Label,{children:"Points"}),Object(r.jsx)(q.a.Control,{type:"number",onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{point1:e.target.value}))},value:l.point1})]}),Object(r.jsxs)(q.a.Group,{as:be.a,controlId:"1rulles",children:[Object(r.jsx)(q.a.Label,{children:"Rulles"}),Object(r.jsx)(q.a.Control,{type:"text",value:l.rulle1,onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{rulle1:e.target.value}))}})]})]}),Object(r.jsxs)(q.a.Row,{children:[Object(r.jsxs)(q.a.Group,{xs:2,as:be.a,controlId:"2points",children:[Object(r.jsx)(q.a.Label,{children:"Points"}),Object(r.jsx)(q.a.Control,{type:"number",value:l.point2,onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{point2:e.target.value}))}})]}),Object(r.jsxs)(q.a.Group,{as:be.a,controlId:"2rulles",children:[Object(r.jsx)(q.a.Label,{children:"Rulles"}),Object(r.jsx)(q.a.Control,{type:"text",value:l.rulle2,onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{rulle2:e.target.value}))}})]})]}),Object(r.jsxs)(q.a.Row,{children:[Object(r.jsxs)(q.a.Group,{xs:2,as:be.a,controlId:"3points",children:[Object(r.jsx)(q.a.Label,{children:"Points"}),Object(r.jsx)(q.a.Control,{type:"number",value:l.point3,onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{point3:e.target.value}))}})]}),Object(r.jsxs)(q.a.Group,{controlId:"3rulles",as:be.a,children:[Object(r.jsx)(q.a.Label,{children:"Rulles"}),Object(r.jsx)(q.a.Control,{type:"text",value:l.rulle3,onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{rulle3:e.target.value}))}})]})]}),Object(r.jsx)(W.a,{variant:"primary",type:"submit",disabled:d,children:"Submit"})]})})]})})},he=a(232),xe=function(){var e=Object(n.useContext)(R),t=e.auditRulles,a=e.auditFunctions;return Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)(le,{}),Object(r.jsxs)("div",{style:{marginTop:"2%"},children:[Object(r.jsx)("h1",{style:{color:"#2f3c48",marginTop:"2%",fontWeight:"bold",marginBottom:"2%"},children:"Audit Rulles"}),Object(r.jsx)(W.a,{onClick:function(){return a({type:"createModal"})},size:"sm",style:{marginBottom:"1%"},children:"Create New"}),Object(r.jsxs)(ae.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(r.jsx)("thead",{style:{backgroundColor:"#2f3c48",color:"white",textAlign:"center"},children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"Family"}),Object(r.jsx)("td",{children:"Issue"}),Object(r.jsx)("td",{children:"Inspectable"}),Object(r.jsx)("td",{children:"Rulles"}),Object(r.jsx)("td",{children:"Points"}),Object(r.jsx)("td",{children:"Edit"})]})}),Object(r.jsx)("tbody",{children:t.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{style:{verticalAlign:"middle",textAlign:"center"},children:e.sofs}),Object(r.jsx)("td",{style:{verticalAlign:"middle",textAlign:"center"},children:e.issue}),Object(r.jsx)("td",{style:{verticalAlign:"middle",textAlign:"center"},children:e.inspectable}),Object(r.jsx)("td",{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:e.rating[0].rulle1}),Object(r.jsx)("li",{children:e.rating[1].rulle2}),Object(r.jsx)("li",{children:e.rating[2].rulle3})]})}),Object(r.jsx)("td",{children:Object(r.jsxs)(he.a,{children:[Object(r.jsx)("li",{children:e.rating[0].point1}),Object(r.jsx)("li",{children:e.rating[1].point2}),Object(r.jsx)("li",{children:e.rating[2].point3})]})}),Object(r.jsxs)("td",{style:{width:"7%",verticalAlign:"middle",textAlign:"center"},children:[Object(r.jsx)(W.a,{size:"sm",variant:"warning",onClick:function(){return a({type:"editRulles",payload:e})},children:"Edit"}),Object(r.jsx)(W.a,{size:"sm",variant:"danger",onClick:function(){return a({type:"delteRulles",payload:e._id})},children:"Delete"})]})]},e._id)}))})]})]})]})},fe=function(){var e=Object(n.useContext)(R).auditFunctions;return Object(n.useEffect)((function(){e({type:"getFamilyOptions"}),e({type:"getRulles"})}),[]),Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)(xe,{}),Object(r.jsx)(pe,{})]})},me=a(233),ve=(a(156),function(){return Object(r.jsx)(c.a.Fragment,{children:Object(r.jsx)("div",{className:"settingsGrid",children:Object(r.jsx)(_.a,{children:Object(r.jsxs)(_.a,{children:[Object(r.jsx)("div",{children:Object(r.jsxs)(W.a,{variant:"primary",style:{height:"100%",width:"80%"},as:l.b,to:"/company",children:[Object(r.jsx)(me.a,{size:"massive",color:"orange"}),Object(r.jsx)("h2",{children:"Company Management"})]})}),Object(r.jsx)("div",{children:Object(r.jsxs)(W.a,{style:{height:"100%",width:"80%"},as:l.b,to:"/user/create",children:[Object(r.jsx)(me.a,{size:"massive",color:"orange"}),Object(r.jsx)("h2",{children:"User Management"})]})}),Object(r.jsx)("div",{children:Object(r.jsxs)(W.a,{style:{height:"100%",width:"80%"},as:l.b,to:"/auditrulles",children:[Object(r.jsx)(me.a,{size:"massive",color:"orange"}),Object(r.jsx)("h2",{children:"Audit Management"})]})})]})})})})}),ye=(a(119),a(116),function(){var e=Object(n.useContext)(G),t=e.User,a=e.dispatch,c=Object(n.useState)(""),s=Object(j.a)(c,2),i=s[0],l=s[1],o=Object(n.useState)(""),u=Object(j.a)(o,2),d=u[0],b=u[1],O=Object(n.useState)(""),p=Object(j.a)(O,2),h=p[0],x=p[1];return Object(r.jsxs)("div",{style:{marginLeft:"40%",width:"15%",marginTop:"10%"},children:[Object(r.jsx)("h1",{children:t.name||""}),Object(r.jsxs)(q.a,{children:[Object(r.jsxs)(q.a.Group,{controlId:"formHorizontalName",children:[Object(r.jsx)(q.a.Label,{children:"NewPassword"}),Object(r.jsx)(q.a.Control,{placeholder:"NewPassword",onChange:function(e){l(e.target.value),x("")},value:i,type:"password"})]}),Object(r.jsxs)(q.a.Group,{controlId:"formHorizontalName",children:[Object(r.jsx)(q.a.Label,{children:"Confirm NewPassword"}),Object(r.jsx)(q.a.Control,{placeholder:"Confirm NewPassword",onChange:function(e){return b(e.target.value)},value:d,type:"password"})]}),Object(r.jsx)("h5",{style:{color:"red"},children:h}),Object(r.jsx)(W.a,{onClick:function(){return i===d?a({type:"changePassword",payload:i}):x("Password doest match"),b(""),void l("")},variant:"success",children:"Submit"})]})]})}),ge=a(60),ke=function(e){var t=e.placeholder,a=e.valueSelected,n=e.onChange;return Object(r.jsx)(Z.a,{options:[{value:"Low",label:"Low"},{value:"High",label:"High"},{value:"Very High",label:"Very High"}],onChange:function(e){return n(e)},placeholder:t,value:a,theme:function(e){return Object(u.a)(Object(u.a)({},e),{},{borderRadius:4,borderThickness:1,colors:Object(u.a)(Object(u.a)({},e.colors),{},{boxShadow:"#aaaaaa",primary:"#aaaaaa",primary25:"neutral5"})})}})},Ce=function(e){var t=e.placeholder,a=e.valueSelected,c=e.onChange,s=e.clear,i=Object(n.useContext)(G),l=i.allUsers,o=i.userFunctions,j=[];return Object(n.useEffect)((function(){o({type:"getAllUsers"})}),[]),l.forEach((function(e){j.push({value:e._id,label:e.name})})),Object(r.jsx)(Z.a,{isClearable:s,options:j,onChange:function(e){return c(e)},placeholder:t,value:a,theme:function(e){return Object(u.a)(Object(u.a)({},e),{},{borderRadius:4,borderThickness:1,colors:Object(u.a)(Object(u.a)({},e.colors),{},{boxShadow:"#aaaaaa",primary:"#aaaaaa",primary25:"neutral5"})})}})},we=function(e){var t=e.placeholder,a=e.valueSelected,n=e.onChange;return Object(r.jsx)(Z.a,{options:[{value:"New",label:"New"},{value:"Updated",label:"Updated"},{value:"Approved",label:"Approved"},{value:"Approved confirmed",label:"Approved confirmed"}],onChange:function(e){return n(e)},placeholder:t,value:a,theme:function(e){return Object(u.a)(Object(u.a)({},e),{},{borderRadius:4,borderThickness:1,colors:Object(u.a)(Object(u.a)({},e.colors),{},{boxShadow:"#aaaaaa",primary:"#aaaaaa",primary25:"neutral5"})})}})},Se=function(e){var t=e.placeholder,a=e.valueSelected,c=e.onChange,s=e.clear,i=Object(n.useContext)(U),l=i.observationtype,o=i.taskFunctions,j=[];return Object(n.useEffect)((function(){o({type:"getObservationTypes"})}),[]),l.forEach((function(e){j.push({value:e._id,label:e.observationName})})),Object(r.jsx)(Z.a,{isClearable:s,options:j,onChange:function(e){return c(e)},placeholder:t,value:a,theme:function(e){return Object(u.a)(Object(u.a)({},e),{},{borderRadius:4,borderThickness:1,colors:Object(u.a)(Object(u.a)({},e.colors),{},{boxShadow:"#aaaaaa",primary:"#aaaaaa",primary25:"neutral5"})})}})},Ie=a(53),Pe=a.n(Ie);a(108);var Le=function(e){var t=e.setDate,a=e.available,s=e.selectedDate,i=Object(n.useState)(new Date),l=Object(j.a)(i,2),o=l[0],u=l[1],d=c.a.createRef(),b=Object(n.useState)("n"),O=Object(j.a)(b,2),p=O[0],h=O[1],x=Object(n.useState)((new Date).toLocaleDateString("lt-LT")),f=Object(j.a)(x,1)[0],m=Object(n.forwardRef)((function(e,t){var n=e.onClick,c=e.value;return Object(r.jsx)(W.a,{onClick:n,onChange:n,ref:t,style:{fontSize:15,paddingTop:"3%",paddingBottom:"3%"},size:"sm",variant:"outline-primary",disabled:a,children:s?new Date(s).toLocaleDateString("lt-LT"):"n"===p?f:c})}));return Object(r.jsx)(Pe.a,{dateFormat:"yyyy-MM-dd",selected:o,onChange:function(e){u(e),t(e),h(e)},customInput:Object(r.jsx)(m,{ref:d}),disabled:a})},Te=function(){var e=Object(n.useContext)(U),t=e.taskFunctions,a=e.createModal,s=Object(n.useState)(Object(ge.a)({issue:"",placeId:"",creatorId:"",responsibleId:"",observationId:"",status:"",comment:"",priority:"",deadline:""},"status","")),i=Object(j.a)(s,2),l=i[0],o=i[1];return Object(r.jsx)(c.a.Fragment,{children:Object(r.jsxs)(X.a,{animation:!0,centered:!0,size:"xl",show:a,onHide:function(){return t({type:"createModal"})},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(r.jsx)(X.a.Header,{closeButton:!0,style:{backgroundColor:"#163a5f",color:"white"},children:Object(r.jsx)(X.a.Title,{id:"example-modal-sizes-title-lg",children:"Create Observation"})}),Object(r.jsxs)(X.a.Body,{children:[Object(r.jsxs)(_.a,{children:[Object(r.jsx)(be.a,{children:Object(r.jsxs)(q.a.Group,{controlId:"textinput1",children:[Object(r.jsx)(q.a.Label,{children:"Description"}),Object(r.jsx)(q.a.Control,{as:"textarea",rows:3,onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{issue:e.target.value}))}})]})}),Object(r.jsx)(be.a,{children:Object(r.jsxs)(q.a.Group,{controlId:"textinput2",children:[Object(r.jsx)(q.a.Label,{children:"Action"}),Object(r.jsx)(q.a.Control,{as:"textarea",rows:3,onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{comment:e.target.value}))}})]})})]}),Object(r.jsxs)(_.a,{children:[Object(r.jsx)(be.a,{children:Object(r.jsxs)(q.a.Group,{controlId:"textinput3",children:[Object(r.jsx)(q.a.Label,{children:"Place"}),Object(r.jsx)($,{onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{placeId:e.value}))},clear:!1})]})}),Object(r.jsx)(be.a,{children:Object(r.jsxs)(q.a.Group,{controlId:"textinput3",children:[Object(r.jsx)(q.a.Label,{children:"Responsible"}),Object(r.jsx)(Ce,{onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{responsibleId:e.value}))},clear:!1})]})}),Object(r.jsx)(be.a,{children:Object(r.jsxs)(q.a.Group,{controlId:"textinput4",children:[Object(r.jsx)(q.a.Label,{children:"Priority"}),Object(r.jsx)(ke,{onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{priority:e.value}))}})]})}),Object(r.jsx)(be.a,{children:Object(r.jsxs)(q.a.Group,{controlId:"textinput5",children:[Object(r.jsx)(q.a.Label,{children:"Status"}),Object(r.jsx)(we,{onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{status:e.value}))}})]})}),Object(r.jsx)(be.a,{children:Object(r.jsxs)(q.a.Group,{controlId:"textinput7",children:[Object(r.jsx)(q.a.Label,{children:"Observation"}),Object(r.jsx)(Se,{onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{observationId:e.value}))}})]})})]}),Object(r.jsxs)(_.a,{children:[Object(r.jsx)(be.a,{children:Object(r.jsxs)(q.a.Group,{controlId:"textinput6",children:[Object(r.jsx)(_.a,{style:{marginLeft:"0%"},children:Object(r.jsx)(q.a.Label,{children:"Deadlien"})}),Object(r.jsx)(Le,{setDate:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{deadline:e}))}})]})}),Object(r.jsx)(be.a,{children:Object(r.jsxs)(q.a.File,{id:"formcheck-api-regular",children:[Object(r.jsx)(q.a.File.Label,{children:"Select Image"}),Object(r.jsx)(q.a.File.Input,{})]})}),Object(r.jsx)(be.a,{}),Object(r.jsx)(be.a,{})]})]}),Object(r.jsx)(X.a.Footer,{children:Object(r.jsx)(W.a,{size:"sm",onClick:function(){t({type:"createTask",payload:l})},children:"Submit"})})]})})},Ae=a(118),Fe=function(e){var t=e.onClick;return Object(r.jsx)(W.a,{size:"sm",onClick:t,children:Object(r.jsx)(Ae.a,{size:"1rem",color:"#ff7f50"})})},ze=function(){var e=Object(n.useContext)(U),t=e.taskFunctions,a=e.tasks;return a?Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)(W.a,{style:{marginBottom:"1%",marginLeft:"1%"},size:"sm",onClick:function(){return t({type:"createModal"})},children:"Create Observation"}),Object(r.jsxs)(ae.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(r.jsx)("thead",{style:{backgroundColor:"#2f3c48",color:"white",textAlign:"center"},children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"Nr"}),Object(r.jsx)("td",{children:"Issue"}),Object(r.jsx)("td",{children:"Place"}),Object(r.jsx)("td",{children:"Responsible"}),Object(r.jsx)("td",{children:"Comment"}),Object(r.jsx)("td",{children:"Observation"}),Object(r.jsx)("td",{children:"Observation Category"}),Object(r.jsx)("td",{children:"Creator"}),Object(r.jsx)("td",{children:"Status"}),Object(r.jsx)("td",{children:"Priority"}),Object(r.jsx)("td",{children:"Deadline"}),Object(r.jsx)("td",{children:"Archive"})]})}),Object(r.jsx)("tbody",{children:a.map((function(e){return Object(r.jsxs)("tr",{style:{textAlign:"center"},onDoubleClick:function(){return t({type:"editTaskModal",payload:{id:e._id,creator:e.creator,issue:e.issue,comment:e.comment,deadline:e.deadline,observationtype:{value:e.observationtype._id,label:e.observationtype.observationName},place:{value:e.place._id,label:e.place.placeName},priority:{value:e.priority,label:e.priority},responsible:{value:e.responsible._id,label:e.responsible.name},status:{value:e.status,label:e.status}}})},children:[Object(r.jsx)("td",{children:e.seq}),Object(r.jsx)("td",{children:e.issue}),Object(r.jsx)("td",{children:e.place?e.place.placeName:""}),Object(r.jsx)("td",{children:e.responsible?e.responsible.name:""}),Object(r.jsx)("td",{children:e.comment}),Object(r.jsx)("td",{children:e.observationtype?e.observationtype.observationName:""}),Object(r.jsx)("td",{children:e.observationCategory}),Object(r.jsx)("td",{children:e.creator?e.creator.name:""}),Object(r.jsx)("td",{children:e.status}),Object(r.jsx)("td",{children:e.priority?e.priority:""}),Object(r.jsx)("td",{children:(a=e.deadline,void 0!==a?new Date(a).toLocaleDateString("fr-CA"):null)}),Object(r.jsx)("td",{children:Object(r.jsx)(Fe,{onClick:function(){return t({type:"archive",payload:e._id})}})})]},e._id);var a}))})]})]}):"...Loding"},Ge=function(){var e=Object(n.useContext)(U),t=e.taskFunctions,a=e.editTaskModal,s=e.selectedTask;return Object(r.jsx)(c.a.Fragment,{children:Object(r.jsxs)(X.a,{animation:!0,centered:!0,size:"xl",show:a,onHide:function(){return t({type:"closeEditTaskModal"})},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(r.jsx)(X.a.Header,{closeButton:!0,style:{backgroundColor:"#2f3c48",color:"white"},children:Object(r.jsx)(X.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Observation"})}),Object(r.jsxs)(X.a.Body,{children:[Object(r.jsxs)(_.a,{children:[Object(r.jsx)(be.a,{children:Object(r.jsxs)(q.a.Group,{controlId:"textinput1",children:[Object(r.jsx)(q.a.Label,{children:"Description"}),Object(r.jsx)(q.a.Control,{as:"textarea",rows:3,onChange:function(e){return t({type:"editSelectedTask",payload:Object(u.a)(Object(u.a)({},s),{},{issue:e.target.value})})},value:s.issue})]})}),Object(r.jsx)(be.a,{children:Object(r.jsxs)(q.a.Group,{controlId:"textinput2",children:[Object(r.jsx)(q.a.Label,{children:"Action"}),Object(r.jsx)(q.a.Control,{as:"textarea",rows:3,onChange:function(e){return t({type:"editSelectedTask",payload:Object(u.a)(Object(u.a)({},s),{},{comment:e.target.value})})},value:s.comment})]})})]}),Object(r.jsxs)(_.a,{children:[Object(r.jsx)(be.a,{children:Object(r.jsxs)(q.a.Group,{controlId:"textinput3",children:[Object(r.jsx)(q.a.Label,{children:"Place"}),Object(r.jsx)($,{onChange:function(e){return t({type:"editSelectedTask",payload:Object(u.a)(Object(u.a)({},s),{},{place:e})})},valueSelected:s.place})]})}),Object(r.jsx)(be.a,{children:Object(r.jsxs)(q.a.Group,{controlId:"textinput3",children:[Object(r.jsx)(q.a.Label,{children:"Responsible"}),Object(r.jsx)(Ce,{onChange:function(e){return t({type:"editSelectedTask",payload:Object(u.a)(Object(u.a)({},s),{},{responsible:e})})},valueSelected:s.responsible})]})}),Object(r.jsx)(be.a,{children:Object(r.jsxs)(q.a.Group,{controlId:"textinput4",children:[Object(r.jsx)(q.a.Label,{children:"Priority"}),Object(r.jsx)(ke,{onChange:function(e){return t({type:"editSelectedTask",payload:Object(u.a)(Object(u.a)({},s),{},{priority:e})})},valueSelected:s.priority})]})}),Object(r.jsx)(be.a,{children:Object(r.jsxs)(q.a.Group,{controlId:"textinput5",children:[Object(r.jsx)(q.a.Label,{children:"Status"}),Object(r.jsx)(we,{onChange:function(e){return t({type:"editSelectedTask",payload:Object(u.a)(Object(u.a)({},s),{},{status:e})})},valueSelected:s.status})]})}),Object(r.jsx)(be.a,{children:Object(r.jsxs)(q.a.Group,{controlId:"textinput7",children:[Object(r.jsx)(q.a.Label,{children:"Observation"}),Object(r.jsx)(Se,{onChange:function(e){return t({type:"editSelectedTask",payload:Object(u.a)(Object(u.a)({},s),{},{observationtype:e})})},valueSelected:s.observationtype})]})})]}),Object(r.jsxs)(_.a,{children:[Object(r.jsx)(be.a,{children:Object(r.jsxs)(q.a.Group,{controlId:"textinput6",children:[Object(r.jsx)(_.a,{style:{marginLeft:"0%"},children:Object(r.jsx)(q.a.Label,{children:"Deadlien"})}),Object(r.jsx)(Le,{selectedDate:s.deadline,setDate:function(e){return t({type:"editSelectedTask",payload:Object(u.a)(Object(u.a)({},s),{},{deadline:e})})}})]})}),Object(r.jsx)(be.a,{children:Object(r.jsxs)(q.a.File,{id:"formcheck-api-regular",children:[Object(r.jsx)(q.a.File.Label,{children:"Select Image"}),Object(r.jsx)(q.a.File.Input,{})]})}),Object(r.jsx)(be.a,{}),Object(r.jsx)(be.a,{})]})]}),Object(r.jsx)(X.a.Footer,{children:Object(r.jsx)(W.a,{size:"sm",onClick:function(e){e.preventDefault(),t({type:"editTask"})},children:"Submit"})})]})})},Ne=function(){var e=Object(n.useContext)(U).taskFunctions;return Object(n.useEffect)((function(){e({type:"getTasks"})}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{style:{fontWeight:"bold",color:"#2f3c48",padding:"1%"},children:"Observations"}),Object(r.jsx)(ze,{}),Object(r.jsx)(Te,{}),Object(r.jsx)(Ge,{})]})},Me=a(74),Ee=a.n(Me);var Re=function(e){var t=e.pageSize,a=e.count,n=e.currentPage,c=e.onPageChange,s=Math.ceil(a/t);if(1===s)return null;var i=Ee.a.range(1,s+1);return Object(r.jsx)("nav",{children:Object(r.jsx)("ul",{className:"pagination",children:i.map((function(e){return Object(r.jsx)("li",{className:e===n?"page-item active":"page-item",children:Object(r.jsx)("a",{className:"page-link",onClick:function(){return c(e)},children:e})},e)}))})})},De=function(){var e=Object(n.useContext)(M),t=e.modal,a=e.placeFunctions,c=e.selected;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(X.a,{size:"sm",show:t,onHide:function(){return a({type:"closeEditModal"})},"aria-labelledby":"example-modal-sizes-title-sm",children:[Object(r.jsx)(X.a.Header,{closeButton:!0,children:Object(r.jsx)(X.a.Title,{id:"example-modal-sizes-title-sm",children:"Edit Place"})}),Object(r.jsx)(X.a.Body,{children:Object(r.jsxs)(q.a,{onSubmit:function(e){e.preventDefault(),a({type:"editPlace"})},children:[Object(r.jsxs)(q.a.Group,{controlId:"place",children:[Object(r.jsx)(q.a.Label,{children:"Place"}),Object(r.jsx)(Y,{value:c.placeName,onChange:function(e){return a({type:"editSelected",payload:Object(u.a)(Object(u.a)({},c),{},{placeName:e})})}}),Object(r.jsx)(q.a.Text,{className:"text-muted"})]}),Object(r.jsxs)(q.a.Group,{children:[Object(r.jsx)(q.a.Label,{children:"Responsible"}),Object(r.jsx)(Ce,{onChange:function(e){return a({type:"editSelected",payload:Object(u.a)(Object(u.a)({},c),{},{user:e})})},valueSelected:c.user})]}),Object(r.jsx)(W.a,{disabled:!c.user,type:"submit",children:"Update"})]})})]})})},Ue=function(){var e=Object(n.useContext)(M),t=e.placeFunctions,a=e.places,s=Object(n.useState)({}),i=Object(j.a)(s,2),l=i[0],o=(i[1],Object(n.useState)(8)),u=Object(j.a)(o,1)[0],d=Object(n.useState)(1),b=Object(j.a)(d,2),O=b[0],p=b[1],h=function(e,t,a){var r=(t-1)*a;return Ee()(e).slice(r).take(a).value()}(a,O,u);return Object(r.jsxs)("div",{children:[Object(r.jsx)(_.a,{className:"justify-content-md-center",children:h.length<1?"":Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsxs)(ae.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(r.jsx)("thead",{style:{backgroundColor:"#2f3c48",color:"white",textAlign:"center"},children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"Place Name"}),Object(r.jsx)("td",{children:"Users assigned"}),Object(r.jsx)("td",{children:"Responsible"}),Object(r.jsx)("td",{children:"Delete"})]})}),Object(r.jsx)("tbody",{children:h.map((function(e){return Object(r.jsxs)("tr",{style:{textAlign:"center"},onDoubleClick:function(){t({type:"setEditModal",payload:{id:e._id,placeName:e.placeName,user:{value:e.responsible?e.responsible._id:null,label:e.responsible?e.responsible.name:null}}})},children:[Object(r.jsx)("td",{children:e.placeName}),Object(r.jsx)("td",{}),Object(r.jsx)("td",{children:null!==e.responsible?e.responsible.name:Object(r.jsx)("h6",{style:{color:"red"},children:"No responsible"})}),Object(r.jsx)("td",{children:Object(r.jsx)(ce,{onClick:function(){return t({type:"deletePlace",payload:{id:e._id,userId:e.responsible?e.responsible._id:""}})},style:{marginLeft:"1%"},children:"Delete"})})]},e._id)}))})]}),Object(r.jsx)(Re,{pageSize:u,count:a.length,onPageChange:function(e){p(e)},currentPage:O})]})}),Object(r.jsx)(De,{selected:l})]})},He=function(){var e=Object(n.useContext)(M).placeFunctions,t=Object(n.useState)(""),a=Object(j.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(""),l=Object(j.a)(i,2),o=l[0],u=l[1];return Object(r.jsx)("div",{style:{marginBottom:"2%",marginTop:"5%"},children:Object(r.jsx)(q.a,{onSubmit:function(t){t.preventDefault(),e({type:"createPlace",payload:{placeName:c,responsible:o.value}}),s(""),u("")},children:Object(r.jsxs)(q.a.Row,{children:[Object(r.jsx)(q.a.Group,{as:be.a,controlId:"formGridEmail",children:Object(r.jsx)(q.a.Label,{style:{fontSize:36,marginTop:"3%"},children:"Places"})}),Object(r.jsxs)(q.a.Group,{as:be.a,children:[Object(r.jsx)(q.a.Label,{children:"Place name"}),Object(r.jsx)(Y,{value:c,onChange:function(e){return s(e)},placeholder:"Enter place name"})]}),Object(r.jsxs)(q.a.Group,{as:be.a,controlId:"2",children:[Object(r.jsx)(q.a.Label,{children:"Responsible"}),Object(r.jsx)(Ce,{placeholder:"Select user",onChange:function(e){return u(e)},valueSelected:o})]}),Object(r.jsx)(be.a,{xs:"auto",style:{marginTop:"2.5%"},children:Object(r.jsx)(W.a,{type:"submit",className:"mb-2",children:"Create"})})]})})})},Be=function(){var e=Object(n.useContext)(M),t=e.contextFunctions,a=e.activePage;return Object(r.jsx)(B.a,{children:Object(r.jsx)("div",{style:{marginTop:"2%"},children:Object(r.jsxs)(he.a,{horizontal:"sm",children:[Object(r.jsx)(he.a.Item,{action:!0,onClick:function(){return t({type:"setActivePage",payload:1})},active:1===a,children:"Places"}),Object(r.jsx)(he.a.Item,{action:!0,onClick:function(){return t({type:"setActivePage",payload:2})},active:2===a,children:"Observation types"}),Object(r.jsx)(he.a.Item,{action:!0,onClick:function(){return t({type:"setActivePage",payload:2})},active:2===a,children:"Workcenters"}),Object(r.jsx)(he.a.Item,{action:!0,onClick:function(){return t({type:"setActivePage",payload:2})},active:2===a,children:"Competency matrix"})]})})})},_e=function(){var e=Object(n.useContext)(G),t=e.userDropdownValue,a=e.dispatch;return Object(n.useEffect)((function(){a({type:"setDropdownValue",payload:{value:"dfghs",label:"label ble"}})}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:t.value}),Object(r.jsx)(Ce,{}),Object(r.jsx)(W.a,{onClick:function(){return a({type:"setDropdownValue",payload:""})},children:"click me"})]})},qe=function(){var e=Object(n.useContext)(M),t=e.activePage,a=e.placeFunctions;return Object(n.useEffect)((function(){a({type:"getAllPlaces"})}),[]),Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)(le,{}),Object(r.jsx)(Be,{}),Object(r.jsx)(B.a,{style:{width:"80%"},children:1===t?Object(r.jsxs)("div",{children:[Object(r.jsx)(He,{}),Object(r.jsx)(Ue,{})]}):Object(r.jsx)("div",{children:Object(r.jsx)(_e,{})})})]})},We=function(){return Object(r.jsx)(x,{children:Object(r.jsx)(N,{children:Object(r.jsx)(E,{children:Object(r.jsx)(H,{children:Object(r.jsx)(v,{children:Object(r.jsx)(D,{children:Object(r.jsxs)(l.a,{children:[Object(r.jsx)(Q,{}),Object(r.jsx)(B.a,{fluid:!0,children:Object(r.jsxs)(o.d,{children:[Object(r.jsx)(o.b,{path:"/login",exact:!0,component:J}),Object(r.jsx)(ue,{path:"/user/create",exact:!0,component:oe}),Object(r.jsx)(de,{path:"/user/profile",exact:!0,component:ye}),Object(r.jsx)(de,{path:"/tasks",exact:!0,component:Ne}),Object(r.jsx)(ue,{path:"/settings",exact:!0,component:ve}),Object(r.jsx)(ue,{path:"/company",exact:!0,component:qe}),Object(r.jsx)(ue,{path:"/auditrulles",ecact:!0,component:fe}),Object(r.jsx)(o.a,{to:"/quicktasks"})]})})]})})})})})})})};a(215);i.a.render(Object(r.jsx)(We,{}),document.getElementById("root"))},27:function(e){e.exports=JSON.parse('{"a":"http://localhost:3001"}')}},[[216,1,2]]]);
//# sourceMappingURL=main.0c3c6215.chunk.js.map