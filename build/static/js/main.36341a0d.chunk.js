(this["webpackJsonp7s-web"]=this["webpackJsonp7s-web"]||[]).push([[0],{113:function(e,t){},211:function(e,t,a){},212:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(2),c=a.n(n),s=a(21),i=a.n(s),l=a(18),o=a(20),j=a(8),u=a(4),d=a(61),b={user:null};if(localStorage.getItem("JwtToken")){var O=Object(d.a)(localStorage.getItem("JwtToken"));1e3*O.exp<Date.now()?localStorage.removeItem("JwtToken"):b.user=O}var p=Object(n.createContext)({user:null,login:function(){},logout:function(){}});function h(e,t){switch(t.type){case"LOGIN":return Object(u.a)(Object(u.a)({},e),{},{user:t.payload});case"LOGOUT":return Object(u.a)(Object(u.a)({},e),{},{user:null});default:return e}}function x(e){var t=Object(n.useReducer)(h,b),a=Object(j.a)(t,2),c=a[0],s=a[1];return Object(r.jsx)(p.Provider,Object(u.a)({value:{user:c.user,login:function(e){localStorage.setItem("JwtToken",e),localStorage.setItem("user",b.user),s({type:"LOGIN",payload:e})},logout:function(){localStorage.removeItem("JwtToken"),s({type:"LOGOUT"})}}},e))}var f=a(45),m=(a(96),Object(n.createContext)()),y=function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],s=a[1];f.a.configure({autoClose:3e3,draggable:!1});return Object(r.jsx)(m.Provider,{value:{notify:function(e){return f.a.success(e)},badNotify:function(e){return f.a.error(e)},btsToast:c,setBtsToast:s},children:e.children})},v=a(10),g=a.n(v),k=a(14),C=a(32),w=a.n(C),S=a(26),P=function(){if(localStorage.getItem("JwtToken"))return Object(d.a)(localStorage.getItem("JwtToken"))},T=localStorage.getItem("JwtToken");f.a.configure({autoClose:3e3,draggable:!1});var I=function(e){return f.a.success(e)},L=function(e){return f.a.error(e)},z=(T&&P().name,T&&P().isAdmin,T?P():""),F=T?P().company:"",A=function(){var e=Object(k.a)(g.a.mark((function e(t){var a,r,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.api,r=t.data,t.message,t.notifytrue,e.prev=1,e.next=4,w.a.post(S.a+a,{data:Object(u.a)(Object(u.a)({},r),{},{company:F})},{headers:{"auth-token":T}});case 4:if((n=e.sent).data.data){e.next=10;break}return n.data.message&&I(n.data.message),e.abrupt("return",n.data);case 10:return I(n.data.message),e.abrupt("return",n.data.data);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(1),L(e.t0.response.data),e.abrupt("return",{error:e.t0});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),M=Object(n.createContext)(),R=function(e){var t=Object(n.useState)([]),a=Object(j.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!1),l=Object(j.a)(i,2),o=l[0],u=l[1],d=Object(n.useState)(!1),b=Object(j.a)(d,2),O=b[0],p=b[1],h=Object(n.useState)({}),x=Object(j.a)(h,2),f=x[0],m=x[1],y=function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/user/delete",data:{id:t}});case 2:(a=e.sent).error||s(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/user/query/allusers"});case 2:(t=e.sent).error||s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/user/password/change",data:{id:z._id,password:t},message:"Password changed",notifytrue:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/user/password/reset",data:{id:t},message:"Pasword reset done,email sent",notifytrue:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/user/edit",data:{id:f.id,workPlace:f.place.value,name:f.name,email:f.email,isAdmin:f.isAdmin,manager:f.manager}});case 2:(t=e.sent).error||(s(t),m({}),p(!O));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/user/create",data:{name:t.name,email:t.email,workPlace:t.workPlace,isAdmin:t.isAdmin,manager:t.manager,responsibleForPlace:t.responsibleForPlace}});case 2:(a=e.sent).error||s(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="getAllUsers"===e.t0?3:"createUserModal"===e.t0?5:"createUser"===e.t0?7:"editUserModal"===e.t0?9:"editSelected"===e.t0?12:"editUser"===e.t0?14:"closeEditModal"===e.t0?16:"deleteUser"===e.t0?18:"resetPassword"===e.t0?20:"changePassword"===e.t0?22:24;break;case 3:return v(),e.abrupt("break",25);case 5:return u(!o),e.abrupt("break",25);case 7:return P(t.payload),e.abrupt("break",25);case 9:return p(!O),m(t.payload),e.abrupt("break",25);case 12:return m(t.payload),e.abrupt("break",25);case 14:return S(),e.abrupt("break",25);case 16:return p(!O),e.abrupt("break",25);case 18:return y(t.payload.id),e.abrupt("break",25);case 20:return w(t.payload),e.abrupt("break",25);case 22:return C(t.payload),e.abrupt("break",25);case 24:console.log(t.type);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(M.Provider,{value:{allUsers:c,User:z,userFunctions:T,createModal:o,editModal:O,selected:f},children:e.children})},N="/api/obstypes/querry/all",G={createPlace:"createPlace",editPlace:"editPlace",deletePlace:"deletePlace",getPlaces:"getPlaces",getPlacesWithoutManager:"placesWithoutManager",EditPlaceModal:"openEditModal",closeEditPlaceModal:"closeEditPlaceModal",editSelectedData:"editSelectedData"},E={createObservationType:"createObservationtype",editObservationtype:"editObservationType",deleteObservationtype:"deleteObservationType",editObservationtypeModal:"editObservationTypeModal",closeEditObservationTypeModal:"closeObservationTypeModal",getObservationTypes:"getObservationTypes",obsCreateModal:"obsCreateModal",editObsSelected:"editObsSlected"},D=Object(n.createContext)(),U=function(e){var t=Object(n.useState)(1),a=Object(j.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!1),l=Object(j.a)(i,2),o=l[0],u=l[1],d=Object(n.useState)(""),b=Object(j.a)(d,2),O=b[0],p=b[1],h=Object(n.useState)([]),x=Object(j.a)(h,2),f=x[0],m=x[1],y=Object(n.useState)({}),v=Object(j.a)(y,2),C=v[0],w=v[1],S=Object(n.useState)([]),P=Object(j.a)(S,2),T=P[0],I=P[1],L=Object(n.useState)(!1),z=Object(j.a)(L,2),F=z[0],M=z[1],R=Object(n.useState)(!1),U=Object(j.a)(R,2),_=U[0],B=U[1],q=Object(n.useState)({}),H=Object(j.a)(q,2),W=H[0],J=H[1],V=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/places/query/allplaces"});case 2:t=e.sent,p(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/places/query/noresponsible"});case 2:t=e.sent,m(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/places/delete",data:t});case 2:(a=e.sent).error||p(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/places/create",data:t});case 2:(a=e.sent).error||p(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/places/edit",data:{id:C.id,responsible:C.user?C.user.value:"",placeName:C.placeName}});case 2:(t=e.sent).error||(p(t),u(!o));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:N});case 2:(t=e.sent).error||I(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/obstypes/create",data:{observationName:t.observationName,observationCategory:t.observationCategory}});case 2:(a=e.sent).error||I(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/obstypes/delete",data:{id:t}});case 2:(a=e.sent).error||I(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/obstypes/edit",data:W});case 2:(t=e.sent).error||(M(!F),I(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next=e.t0===G.createPlace?3:e.t0===G.closeEditPlaceModal?5:e.t0===G.EditPlaceModal?7:e.t0===G.editSelectedData?10:e.t0===G.editPlace?12:e.t0===G.deletePlace?14:e.t0===G.getPlaces?16:e.t0===G.getPlacesWithoutManager?18:20;break;case 3:return X(t.payload),e.abrupt("break",21);case 5:return u(!o),e.abrupt("break",21);case 7:return u(!o),w(t.payload),e.abrupt("break",21);case 10:return w(t.payload),e.abrupt("break",21);case 12:return Y(),e.abrupt("break",21);case 14:return Q(t.payload),e.abrupt("break",21);case 16:return V(),e.abrupt("break",21);case 18:return K(),e.abrupt("break",21);case 20:alert(t.type);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="setActivePage"===e.t0?3:5;break;case 3:return s(t.payload),e.abrupt("break",6);case 5:alert(t.type);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next=e.t0===E.createObservationType?3:e.t0===E.editObservationtype?5:e.t0===E.deleteObservationtype?7:e.t0===E.editObservationtypeModal?9:e.t0===E.closeEditObservationTypeModal?12:e.t0===E.getObservationTypes?14:e.t0===E.obsCreateModal?16:e.t0===E.editObsSelected?18:20;break;case 3:return $(t.payload),e.abrupt("break",21);case 5:return te(),e.abrupt("break",21);case 7:return ee(t.payload),e.abrupt("break",21);case 9:return J(t.payload),M(!F),e.abrupt("break",21);case 12:return M(!F),e.abrupt("break",21);case 14:return Z(),e.abrupt("break",21);case 16:return B(!_),e.abrupt("break",21);case 18:return J(t.payload),e.abrupt("break",21);case 20:alert(t.type);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(D.Provider,{value:{placeFunctions:ae,companyFunctions:re,obsFunctions:ne,modal:o,places:O,activePage:c,withoutManager:f,selected:C,obsTypes:T,placeFunc:G,obsFunc:E,obsCreateModal:_,selectedObs:W,obsEditModal:F},children:e.children})},_=Object(n.createContext)(),B=function(e){var t=Object(n.useState)([]),a=Object(j.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)([]),l=Object(j.a)(i,2),o=l[0],u=l[1],d=Object(n.useState)(!1),b=Object(j.a)(d,2),O=b[0],p=b[1],h=Object(n.useState)(),x=Object(j.a)(h,2),f=x[0],m=x[1],y=Object(n.useState)(!1),v=Object(j.a)(y,2),C=v[0],w=v[1],S=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/auditrulles/query/all"});case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/auditrulles/query/familyoptions"});case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/auditrulles/create",data:{sofs:t.family,issue:t.issue,inspectable:t.inspectable,point1:t.point1,rulle1:t.rulle1,point2:t.point2,rulle2:t.rulle2,point3:t.point3,rulle3:t.rulle3}});case 2:(a=e.sent).error||s(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/auditrulles/delete",data:{id:t}});case 2:(a=e.sent).error||s(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/auditrulles/edit",data:{id:f._id,issue:f.issue,inspectable:f.inspectable,rulle1:f.rulle1,point1:f.point1,rulle2:f.rulle2,point2:f.point2,rulle3:f.rulle3,point3:f.point3,sofs:f.sofs}});case 2:(t=e.sent).error||(s(t),w(!C));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="getRulles"===e.t0?3:"getFamilyOptions"===e.t0?5:"editSelectedRulle"===e.t0?7:"createModal"===e.t0?9:"deleteRulles"===e.t0?11:"editRulles"===e.t0?13:"closeEditModal"===e.t0?16:"editRulle"===e.t0?18:"createRulle"===e.t0?20:22;break;case 3:return S(),e.abrupt("break",23);case 5:return P(),e.abrupt("break",23);case 7:return m(t.payload),e.abrupt("break",23);case 9:return p(!O),e.abrupt("break",23);case 11:return I(t.payload),e.abrupt("break",23);case 13:return m(t.payload),w(!C),e.abrupt("break",23);case 16:return w(!C),e.abrupt("break",23);case 18:return L(),e.abrupt("break",23);case 20:return T(t.payload),e.abrupt("break",23);case 22:console.log(t);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(_.Provider,{value:{auditRulles:c,familyOptions:o,auditFunctions:z,selectedRulle:f,createModal:O,editRullesModal:C},children:e.children})},q=Object(n.createContext)(),H=function(e){var t=Object(n.useState)([]),a=Object(j.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!1),l=Object(j.a)(i,2),o=l[0],d=l[1],b=Object(n.useState)(!1),O=Object(j.a)(b,2),p=O[0],h=O[1],x=Object(n.useState)([]),f=Object(j.a)(x,2),m=f[0],y=f[1],v=Object(n.useState)(""),C=Object(j.a)(v,2),w=C[0],S=C[1],P=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/tasks/querry/all"});case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:N});case 2:t=e.sent,y(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/tasks/create",data:Object(u.a)(Object(u.a)({},t),{},{creatorId:z._id})});case 2:P();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/tasks/edit",data:{id:w.id,issue:w.issue,comment:w.comment,placeId:w.place.value,responsibleId:w.responsible.value,observationId:w.observationtype.value,priority:w.priority.value,status:w.status.value,deadline:w.deadline,creator:w.creator}});case 2:t=e.sent,h(!p),t.error||s(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({api:"/api/tasks/archive",data:{id:t}});case 2:(a=e.sent).error||s(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="getTasks"===e.t0?3:"getObservationTypes"===e.t0?5:"createModal"===e.t0?7:"createTask"===e.t0?9:"editTaskModal"===e.t0?11:"editSelectedTask"===e.t0?14:"editTask"===e.t0?16:"closeEditTaskModal"===e.t0?18:"archive"===e.t0?20:22;break;case 3:return P(),e.abrupt("break",23);case 5:return T(),e.abrupt("break",23);case 7:return d(!o),e.abrupt("break",23);case 9:return I(t.payload),e.abrupt("break",23);case 11:return h(!p),S(t.payload),e.abrupt("break",23);case 14:return S(t.payload),e.abrupt("break",23);case 16:return L(),e.abrupt("break",23);case 18:return h(!p),e.abrupt("break",23);case 20:return F(t.payload),e.abrupt("break",23);case 22:console.log(t.type);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(q.Provider,{value:{taskFunctions:M,tasks:c,createModal:o,observationtype:m,selectedTask:w,editTaskModal:p},children:e.children})},W=a(220),J=a(221),V=a(225),K=a(222),Q=function(){var e=Object(n.useContext)(p),t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(""),l=Object(j.a)(i,2),o=l[0],u=l[1],d=Object(n.useState)(""),b=Object(j.a)(d,2),O=b[0],h=b[1],x=Object(n.useState)(),f=Object(j.a)(x,2),y=f[0],v=f[1],C=Object(n.useContext)(m),P=C.notify,T=C.badNotify,I=function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,w.a.post(S.a+"/api/auth/login",{email:o,password:O});case 4:a=e.sent,console.log(a),200===a.status&&(s(!0),P("Security code is sent"),console.log("yes loged in")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),T("Email or password is wrong");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var t=Object(k.a)(g.a.mark((function t(a){var r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,w.a.post(S.a+"/api/auth/confirm",{email:o,password:O,code:y});case 4:200===(r=t.sent).status&&(e.login(r.data),window.location="/quicktasks"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),T("wrong code"),s(!1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return!1===c?Object(r.jsx)(W.a,{fluid:"sm",children:Object(r.jsx)(J.a,{className:"justify-content-md-center",children:Object(r.jsxs)("div",{style:{marginTop:"10%"},children:[Object(r.jsx)("h2",{style:{fontWeight:"bold"},children:"7s web application"}),Object(r.jsxs)(V.a,{onSubmit:I,children:[Object(r.jsxs)(V.a.Group,{controlId:"formBasicEmail",children:[Object(r.jsx)(V.a.Label,{children:"Email address"}),Object(r.jsx)(V.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){return u(e.target.value)},value:o}),Object(r.jsx)(V.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(r.jsxs)(V.a.Group,{controlId:"formBasicPassword",children:[Object(r.jsx)(V.a.Label,{children:"Password"}),Object(r.jsx)(V.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)},value:O})]}),Object(r.jsx)(K.a,{variant:"primary",type:"submit",children:"Submit"})]})]})})}):Object(r.jsx)(W.a,{fluid:"sm",children:Object(r.jsx)(J.a,{className:"justify-content-md-center",children:Object(r.jsxs)("div",{style:{marginTop:"20%"},children:[Object(r.jsx)("h2",{style:{fontWeight:"bold"},children:"Please enter Code"}),Object(r.jsxs)(V.a,{onSubmit:L,children:[Object(r.jsx)(V.a.Group,{controlId:"code",children:Object(r.jsx)(V.a.Control,{type:"number",placeholder:"Code",value:y,onChange:function(e){return v(e.target.value)}})}),Object(r.jsx)(K.a,{variant:"primary",type:"submit",children:"Verify"})]})]})})})},X=a(226),Y=a(227),Z=function(){var e=Object(n.useContext)(p),t=e.user,a=e.logout,c=Object(n.useState)("User"),s=Object(j.a)(c,2),i=s[0],u=s[1],d=Object(n.useState)("Company"),b=Object(j.a)(d,2),O=b[0],h=b[1],x=Object(n.useState)("/quicktask"),f=Object(j.a)(x,2),m=f[0],y=f[1];Object(n.useEffect)((function(){if(!t)return null;u(t.name),h(t.company)}),[t]);var v={color:"white",fontSize:18},g={color:"orange",fontSize:18},k=Object(r.jsx)("div",{children:Object(r.jsxs)(X.a,{bg:"primary",variant:"primary",children:[Object(r.jsx)(X.a.Brand,{style:{color:"White",fontSize:24},children:O}),Object(r.jsxs)(Y.a,{className:"mr-auto",activeKey:"/tasks",onSelect:function(e){return y(e)},children:[Object(r.jsx)(Y.a.Link,{as:l.b,to:"/tasks",style:"/tasks"===m?g:v,href:"/tasks",children:"Observations"}),Object(r.jsx)(Y.a.Link,{as:l.b,to:"/audit",style:"/audit"===m?g:v,href:"/audit",children:"Audit"}),Object(r.jsx)(Y.a.Link,{as:l.b,to:"/dashboard",style:"/dashboard"===m?g:v,href:"/dashboard",children:"Dashboard"})]}),Object(r.jsxs)(Y.a,{className:"m-right",onSelect:function(e){return y(e)},children:[t&&t.isAdmin?Object(r.jsx)(Y.a.Link,{as:l.b,to:"/settings",style:"/settings"===m?g:v,href:"/settings",children:"Settings"}):"",Object(r.jsx)(Y.a.Link,{as:l.b,to:"/user/profile",style:"/user/profile"===m?g:v,href:"/user/edit",children:i})]}),Object(r.jsx)(Y.a.Link,{onClick:a,style:v,children:"LogOut"})]})});return t?k:Object(r.jsx)(o.a,{to:"/login"})},$=a(224),ee=function(e){var t=e.value,a=e.onChange,c=e.placeholder,s=e.type,i=e.required,l=Object(n.useState)("hsla(44, 0%, 60%, 0.5)"),o=Object(j.a)(l,2),u=o[0],d=o[1],b=Object(n.useState)(1),O=Object(j.a)(b,2),p=O[0],h=O[1];return Object(r.jsx)("div",{children:Object(r.jsx)(V.a.Control,{dateStyle:"short",required:i,placeholder:c,type:s||"text",value:t,onChange:function(e){return a(e.target.value)},onBlur:function(){return h(1)},onFocus:function(){return h(2)},onMouseEnter:function(){return d("#aaaaaa")},onMouseLeave:function(){return d("hsla(44, 0%, 60%, 0.5)")},style:{boxShadow:"none",borderWidth:p,borderColor:u,fontSize:15,height:37}})})},te=a(23),ae=function(e){var t=e.placeholder,a=e.valueSelected,c=e.onChange,s=e.multi,i=e.clear,l=Object(n.useContext)(D),o=l.places,j=l.placeFunctions,d=[];return Object(n.useEffect)((function(){j({type:G.getPlaces})}),[]),o&&o.forEach((function(e){d.push({value:e._id,label:e.placeName})})),Object(r.jsx)(te.a,{isClearabl:i,isMulti:s,options:d,onChange:function(e){return c(e)},placeholder:t,value:a,theme:function(e){return Object(u.a)(Object(u.a)({},e),{},{borderRadius:4,borderThickness:1,colors:Object(u.a)(Object(u.a)({},e.colors),{},{boxShadow:"#aaaaaa",primary:"#aaaaaa",primary25:"neutral5"})})}})},re=function(e){var t=e.placeholder,a=e.valueSelected,c=e.onChange,s=Object(n.useContext)(D),i=s.places,l=s.placeFunctions,o=[];return Object(n.useEffect)((function(){l({type:"getAllPlaces"})}),[]),i&&i.filter((function(e){return!e.responsible})).forEach((function(e){o.push({value:e._id,label:e.placeName})})),Object(r.jsx)(te.a,{isClearable:!0,isMulti:!0,options:o,onChange:function(e){return c(e)},placeholder:t,value:a,theme:function(e){return Object(u.a)(Object(u.a)({},e),{},{borderRadius:4,borderThickness:1,colors:Object(u.a)(Object(u.a)({},e.colors),{},{boxShadow:"#aaaaaa",primary:"#aaaaaa",primary25:"neutral5"})})}})},ne=function(){var e=Object(n.useContext)(M),t=e.createModal,a=e.userFunctions,c=Object(n.useState)([]),s=Object(j.a)(c,2),i=s[0],l=s[1],o=Object(n.useState)(""),d=Object(j.a)(o,2),b=d[0],O=d[1],p=Object(n.useState)({isAdmin:!1,manager:!1,responsibleForPlace:[]}),h=Object(j.a)(p,2),x=h[0],f=h[1],m=function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),i.forEach((function(e){return x.responsibleForPlace.push(e.value)})),e.next=4,a({type:"createUser",payload:Object(u.a)(Object(u.a)({},x),{},{workPlace:b.value})});case 4:f({isAdmin:!1,manager:!1,responsibleForPlace:[]}),O("");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{children:Object(r.jsxs)($.a,{show:t,onHide:function(){a({type:"createUserModal"})},"aria-labelledby":"example-modal-sizes-title-sm",children:[Object(r.jsx)($.a.Header,{closeButton:function(){a({type:"createUserModal"})},children:Object(r.jsx)($.a.Title,{id:"example-modal-sizes-title-sm",children:"Create User"})}),Object(r.jsx)($.a.Body,{children:Object(r.jsx)(W.a,{children:Object(r.jsx)("div",{style:{width:"90%",margin:"2%"},children:Object(r.jsxs)(V.a,{onSubmit:m,children:[Object(r.jsxs)(V.a.Group,{children:[Object(r.jsx)(V.a.Label,{children:"Email"}),Object(r.jsx)(ee,{required:!0,type:"email",placeholder:"Email",onChange:function(e){return f(Object(u.a)(Object(u.a)({},x),{},{email:e}))},value:x.email||""})]}),Object(r.jsxs)(V.a.Group,{children:[Object(r.jsx)(V.a.Label,{children:"Name"}),Object(r.jsx)(ee,{required:!0,placeholder:"Name",onChange:function(e){return f(Object(u.a)(Object(u.a)({},x),{},{name:e}))},value:x.name||""})]}),Object(r.jsxs)(V.a.Group,{children:[Object(r.jsx)(V.a.Label,{children:"Working Place:"}),Object(r.jsx)(ae,{placeholder:"Select work place",valueSelected:b,onChange:function(e){O(e)}})]}),Object(r.jsx)(V.a.Group,{controlId:"formHorizontalCheck",children:Object(r.jsx)(V.a.Check,{defaultValue:!1,type:"switch",id:"custom-switch",label:"Administrator",onChange:function(){return f(Object(u.a)(Object(u.a)({},x),{},{isAdmin:!x.isAdmin}))},checked:x.isAdmin})}),Object(r.jsx)(V.a.Group,{controlId:"formHorizontalCheck",children:Object(r.jsx)(V.a.Check,{defaultValue:!1,type:"switch",id:"custom",label:"Manager",onChange:function(){return f(Object(u.a)(Object(u.a)({},x),{},{manager:!x.manager}))},checked:x.manager})}),!0===x.manager?Object(r.jsx)("div",{style:{marginBottom:"20%"},children:Object(r.jsx)(re,{onChange:function(e){return l(e)},valueSelected:i})}):"",Object(r.jsx)(V.a.Group,{children:Object(r.jsx)(K.a,{disabled:!b,type:"submit",children:"Create"})})]})})})})]})})},ce=a(223),se=function(){var e=Object(n.useContext)(M),t=e.userFunctions,a=e.editModal,c=e.selected;return null===c?"":Object(r.jsx)("div",{children:Object(r.jsxs)($.a,{show:a,onHide:function(){return t({type:"closeEditModal"})},"aria-labelledby":"example-modal-sizes-title-sm",children:[Object(r.jsx)($.a.Header,{closeButton:!0,children:Object(r.jsx)($.a.Title,{id:"example-modal-sizes-title-sm",children:"Edit User"})}),Object(r.jsx)($.a.Body,{children:Object(r.jsx)(W.a,{children:Object(r.jsx)("div",{style:{margin:"5%"},children:Object(r.jsxs)(V.a,{onSubmit:function(e){e.preventDefault(),t({type:"editUser"})},children:[Object(r.jsxs)(V.a.Group,{controlId:"formHorizontalEmail",children:[Object(r.jsx)(V.a.Label,{children:"Email"}),Object(r.jsx)(ee,{type:"email",placeholder:"Email",onChange:function(e){return t({type:"editSelected",payload:Object(u.a)(Object(u.a)({},c),{},{email:e})})},value:c.email})]}),Object(r.jsxs)(V.a.Group,{controlId:"formHorizontalName",children:[Object(r.jsx)(V.a.Label,{children:"Name"}),Object(r.jsx)(ee,{placeholder:"Name",onChange:function(e){return t({type:"editSelected",payload:Object(u.a)(Object(u.a)({},c),{},{name:e})})},value:c.name})]}),Object(r.jsxs)(V.a.Group,{controlId:"formHorizontalEmail",children:[Object(r.jsx)(V.a.Label,{children:"Working Place"}),Object(r.jsx)(ae,{valueSelected:c.place,onChange:function(e){return t({type:"editSelected",payload:Object(u.a)(Object(u.a)({},c),{},{place:e})})}})]}),Object(r.jsx)(V.a.Group,{controlId:"formHorizontalCheck",children:Object(r.jsx)(V.a.Check,{type:"switch",id:"custom-switch",label:"Administrator",onChange:function(){return t({type:"editSelected",payload:Object(u.a)(Object(u.a)({},c),{},{isAdmin:!c.isAdmin})})},checked:c.isAdmin})}),Object(r.jsx)(V.a.Group,{controlId:"formHorizontalCheck",children:Object(r.jsx)(V.a.Check,{type:"switch",id:"custom",label:"Manager",onChange:function(){return t({type:"editSelected",payload:Object(u.a)(Object(u.a)({},c),{},{manager:!c.manager})})},checked:c.manager})}),Object(r.jsx)(V.a.Group,{children:Object(r.jsx)(K.a,{type:"submit",children:"Update"})})]})})})})]})})},ie=a(38),le=function(e){var t=e.onClick;return Object(r.jsx)(K.a,{size:"sm",onClick:t,children:Object(r.jsx)(ie.e,{size:"1rem",color:"#ff6f41"})})},oe=function(e){var t=e.onClick;return Object(r.jsx)(K.a,{size:"sm",onClick:t,variant:"danger",children:Object(r.jsx)(ie.a,{size:"1rem",color:"white"})})},je=function(e,t){return(e?e.map((function(e){return e.workPlace._id})):"").filter((function(e){return e===t})).length},ue=function(e,t){return(e?e.map((function(e){return e.place._id})):"").filter((function(e){return e===t})).length},de=function(e,t){return(e?e.map((function(e){return e.observationtype._id})):"").filter((function(e){return e===t})).length},be=function(e,t){return(e?e.map((function(e){return e.responsible._id})):"").filter((function(e){return e===t})).length},Oe=a(68),pe=a.n(Oe);function he(e,t,a){var r=(t-1)*a;return pe()(e).slice(r).take(a).value()}var xe=function(e){var t=e.pageSize,a=e.count,n=e.currentPage,c=e.onPageChange,s=Math.ceil(a/t);if(1===s)return null;var i=pe.a.range(1,s+1);return Object(r.jsx)("nav",{children:Object(r.jsx)("ul",{className:"pagination",children:i.map((function(e){return Object(r.jsx)("li",{className:e===n?"page-item active":"page-item",children:Object(r.jsx)("a",{className:"page-link",onClick:function(){return c(e)},children:e})},e)}))})})},fe=function(){var e=Object(n.useState)(10),t=Object(j.a)(e,1)[0],a=Object(n.useState)(1),s=Object(j.a)(a,2),i=s[0],l=s[1],o=Object(n.useContext)(M),u=o.userFunctions,d=o.allUsers,b=Object(n.useContext)(q).tasks,O=he(d,i,t);return O?Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)(J.a,{style:{margin:"1%"},children:Object(r.jsxs)(ce.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(r.jsx)("thead",{style:{backgroundColor:"#2f3c48",color:"white",textAlign:"center"},children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"Reset password"}),Object(r.jsx)("td",{children:"User Name"}),Object(r.jsx)("td",{children:"User Email"}),Object(r.jsx)("td",{children:"Workplace"}),Object(r.jsx)("td",{children:"Open observations"}),Object(r.jsx)("td",{children:"Manager"}),Object(r.jsx)("td",{children:"Responsible"}),Object(r.jsx)("td",{children:"Admin"}),Object(r.jsx)("td",{children:"Delete"})]})}),Object(r.jsx)("tbody",{children:O.map((function(e){return Object(r.jsxs)("tr",{style:{textAlign:"center",cursor:"pointer"},onDoubleClick:function(){u({type:"editUserModal",payload:{id:e._id,name:e.name,email:e.email,manager:e.manager,isAdmin:e.isAdmin,place:{value:e.workPlace._id,label:e.workPlace.placeName}}})},children:[Object(r.jsx)("td",{style:{width:"8%"},children:Object(r.jsx)(oe,{onClick:function(){return u({type:"resetPassword",payload:e._id})}})}),Object(r.jsxs)("td",{children:[e.name," "]}),Object(r.jsx)("td",{children:e.email}),Object(r.jsx)("td",{children:e.workPlace?e.workPlace.placeName:"Non"}),Object(r.jsx)("td",{children:be(b,e._id)}),Object(r.jsx)("td",{children:e.manager+""}),Object(r.jsx)("td",{children:e.responsibleForPlace!==[]?e.responsibleForPlace.map((function(t,a){return t.placeName+(a!==e.responsibleForPlace.length-1?", ":".")})):""}),Object(r.jsx)("td",{children:e.isAdmin+""}),Object(r.jsx)("td",{style:{width:"4%"},children:Object(r.jsx)(le,{onClick:function(){return u({type:"deleteUser",payload:{id:e._id}})}})})]},e._id)}))})]})}),Object(r.jsx)(J.a,{className:"justify-content-md-center",children:Object(r.jsx)(xe,{pageSize:t,count:d.length,onPageChange:function(e){l(e)},currentPage:i})}),Object(r.jsx)(se,{})]}):Object(r.jsx)(r.Fragment,{children:"...Loding"})},me=function(){var e=Object(o.g)().pathname;return Object(r.jsx)("div",{style:{marginTop:"1%"},children:Object(r.jsxs)(Y.a,{variant:"tabs",activeKey:e,children:[Object(r.jsx)(Y.a.Item,{style:{color:"red"},children:Object(r.jsx)(Y.a.Link,{href:"/places",as:l.b,to:"/places",children:"Places"})}),Object(r.jsx)(Y.a.Item,{children:Object(r.jsx)(Y.a.Link,{href:"/obstypes",as:l.b,to:"/obstypes",children:"Observation types"})}),Object(r.jsx)(Y.a.Item,{children:Object(r.jsx)(Y.a.Link,{href:"/user/create",as:l.b,to:"/user/create",children:"Users"})}),Object(r.jsx)(Y.a.Item,{children:Object(r.jsx)(Y.a.Link,{href:"/auditrulles",as:l.b,to:"/auditrulles",children:"Audit"})})]})})},ye=function(){var e=Object(n.useContext)(M).userFunctions;return Object(n.useEffect)((function(){e({type:"getAllUsers"})}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)(me,{}),Object(r.jsx)("h1",{style:{color:"#2f3c48",padding:"1%"},children:"Users"}),Object(r.jsx)(K.a,{onClick:function(){return e({type:"createUserModal"})},style:{marginBottom:"1%",marginLeft:"1%"},size:"sm",children:"Create User"}),Object(r.jsx)(ne,{}),Object(r.jsx)(fe,{})]})},ve=a(75),ge=function(e){var t=e.component,a=Object(ve.a)(e,["component"]),c=Object(n.useContext)(p).user;return Object(r.jsx)(o.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return c?!c.isAdmin&&c?Object(r.jsx)(o.a,{to:"/"}):Object(r.jsx)(t,Object(u.a)({},e)):Object(r.jsx)(o.a,{to:"/login"})}}))},ke=function(e){var t=e.component,a=Object(ve.a)(e,["component"]),c=Object(n.useContext)(p).user;return Object(r.jsx)(o.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return c?Object(r.jsx)(t,Object(u.a)({},e)):Object(r.jsx)(o.a,{to:"/login"})}}))},Ce=a(111),we=function(e){var t=e.placeholder,a=e.valueSelected,n=e.onChange;return Object(r.jsx)(te.a,{options:[{value:"Sort",label:"Sort"},{value:"Set In Order",label:"Set In Order"},{value:"Standardize",label:"Standardize"},{value:"Shine",label:"Shine"},{value:"Sustain",label:"Sustain"}],onChange:function(e){return n(e)},placeholder:t,value:a,theme:function(e){return Object(u.a)(Object(u.a)({},e),{},{borderRadius:4,borderThickness:1,colors:Object(u.a)(Object(u.a)({},e.colors),{},{boxShadow:"#aaaaaa",primary:"#aaaaaa",primary25:"neutral5"})})}})},Se=function(){var e=Object(n.useContext)(_),t=e.auditFunctions,a=e.createModal,c=Object(n.useState)({issue:"",inspectable:"",point1:"",rulle1:"",point2:"",rulle2:"",point3:"",rulle3:"",family:""}),s=Object(j.a)(c,2),i=s[0],l=s[1],o=""===i.family;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)($.a,{size:"lg",show:a,onHide:function(){return t({type:"createModal"})},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(r.jsx)($.a.Header,{closeButton:!0,children:Object(r.jsx)($.a.Title,{id:"example-modal-sizes-title-lg",children:"Create Audit Rulles"})}),Object(r.jsx)($.a.Body,{children:Object(r.jsxs)(V.a,{onSubmit:function(e){e.preventDefault(),t({type:"createRulle",payload:i}),l({issue:"",inspectable:"",point1:"",rulle1:"",point2:"",rulle2:"",point3:"",rulle3:"",family:""})},children:[Object(r.jsx)(V.a.Row,{style:{width:"50%"},children:Object(r.jsxs)(V.a.Group,{as:Ce.a,controlId:"formGridEmail",children:[Object(r.jsx)(V.a.Label,{children:"Family"}),Object(r.jsx)(we,{onChange:function(e){return l(Object(u.a)(Object(u.a)({},i),{},{family:e.value}))}})]})}),Object(r.jsxs)(V.a.Row,{children:[Object(r.jsxs)(V.a.Group,{as:Ce.a,controlId:"issue",children:[Object(r.jsx)(V.a.Label,{children:"Issue"}),Object(r.jsx)(ee,{required:!0,value:i.issue,type:"text",placeholder:"Issue",onChange:function(e){return l(Object(u.a)(Object(u.a)({},i),{},{issue:e}))}})]}),Object(r.jsxs)(V.a.Group,{as:Ce.a,controlId:"inspectable",children:[Object(r.jsx)(V.a.Label,{children:"Inspectable"}),Object(r.jsx)(ee,{required:!0,value:i.inspectable,type:"text",placeholder:"Inspectable",onChange:function(e){return l(Object(u.a)(Object(u.a)({},i),{},{inspectable:e}))}})]})]}),Object(r.jsxs)(V.a.Row,{children:[Object(r.jsxs)(V.a.Group,{xs:2,as:Ce.a,controlId:"1points",children:[Object(r.jsx)(V.a.Label,{children:"Points"}),Object(r.jsx)(ee,{required:!0,type:"number",onChange:function(e){return l(Object(u.a)(Object(u.a)({},i),{},{point1:e}))},value:i.point1})]}),Object(r.jsxs)(V.a.Group,{as:Ce.a,controlId:"1rulles",children:[Object(r.jsx)(V.a.Label,{children:"Rulles"}),Object(r.jsx)(ee,{required:!0,type:"text",value:i.rulle1,onChange:function(e){return l(Object(u.a)(Object(u.a)({},i),{},{rulle1:e}))}})]})]}),Object(r.jsxs)(V.a.Row,{children:[Object(r.jsxs)(V.a.Group,{xs:2,as:Ce.a,controlId:"2points",children:[Object(r.jsx)(V.a.Label,{children:"Points"}),Object(r.jsx)(ee,{required:!0,type:"number",value:i.point2,onChange:function(e){return l(Object(u.a)(Object(u.a)({},i),{},{point2:e}))}})]}),Object(r.jsxs)(V.a.Group,{as:Ce.a,controlId:"2rulles",children:[Object(r.jsx)(V.a.Label,{children:"Rulles"}),Object(r.jsx)(ee,{required:!0,type:"text",value:i.rulle2,onChange:function(e){return l(Object(u.a)(Object(u.a)({},i),{},{rulle2:e}))}})]})]}),Object(r.jsxs)(V.a.Row,{children:[Object(r.jsxs)(V.a.Group,{xs:2,as:Ce.a,controlId:"3points",children:[Object(r.jsx)(V.a.Label,{children:"Points"}),Object(r.jsx)(ee,{required:!0,type:"number",value:i.point3,onChange:function(e){return l(Object(u.a)(Object(u.a)({},i),{},{point3:e}))}})]}),Object(r.jsxs)(V.a.Group,{controlId:"3rulles",as:Ce.a,children:[Object(r.jsx)(V.a.Label,{children:"Rulles"}),Object(r.jsx)(ee,{required:!0,type:"text",value:i.rulle3,onChange:function(e){return l(Object(u.a)(Object(u.a)({},i),{},{rulle3:e}))}})]})]}),Object(r.jsx)($.a.Footer,{children:Object(r.jsx)(K.a,{variant:"primary",type:"submit",disabled:o,children:"Submit"})})]})})]})})},Pe=a(228),Te=function(){var e=Object(n.useContext)(_),t=e.auditRulles,a=e.auditFunctions,s=Object(n.useState)(4),i=Object(j.a)(s,1)[0],l=Object(n.useState)(1),o=Object(j.a)(l,2),u=o[0],d=o[1],b=he(t,u,i);return Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)(me,{}),Object(r.jsxs)("div",{style:{marginTop:"2%"},children:[Object(r.jsx)("h1",{style:{color:"#2f3c48",marginTop:"2%",marginBottom:"2%"},children:"5S Audit Rulles"}),Object(r.jsx)(K.a,{onClick:function(){return a({type:"createModal"})},size:"sm",style:{marginBottom:"1%"},children:"Create New"}),Object(r.jsxs)(ce.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(r.jsx)("thead",{style:{backgroundColor:"#2f3c48",color:"white",textAlign:"center"},children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"Family"}),Object(r.jsx)("td",{children:"Issue"}),Object(r.jsx)("td",{children:"Inspectable"}),Object(r.jsx)("td",{children:"Rulles"}),Object(r.jsx)("td",{children:"Points"}),Object(r.jsx)("td",{children:"Delete"})]})}),Object(r.jsx)("tbody",{children:b.map((function(e){return Object(r.jsxs)("tr",{style:{cursor:"pointer"},onDoubleClick:function(){return a({type:"editRulles",payload:e})},children:[Object(r.jsx)("td",{style:{verticalAlign:"middle",textAlign:"center"},children:e.sofs}),Object(r.jsx)("td",{style:{verticalAlign:"middle",textAlign:"center"},children:e.issue}),Object(r.jsx)("td",{style:{verticalAlign:"middle",textAlign:"center"},children:e.inspectable}),Object(r.jsx)("td",{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:e.rulle1}),Object(r.jsx)("li",{children:e.rulle2}),Object(r.jsx)("li",{children:e.rulle3})]})}),Object(r.jsx)("td",{children:Object(r.jsxs)(Pe.a,{children:[Object(r.jsx)("li",{children:e.point1}),Object(r.jsx)("li",{children:e.point2}),Object(r.jsx)("li",{children:e.point3})]})}),Object(r.jsx)("td",{style:{width:"7%",verticalAlign:"middle",textAlign:"center"},children:Object(r.jsx)(le,{onClick:function(){return a({type:"deleteRulles",payload:e._id})}})})]},e._id)}))})]}),Object(r.jsx)(J.a,{className:"justify-content-md-center",children:Object(r.jsx)(xe,{pageSize:i,count:t.length,onPageChange:function(e){d(e)},currentPage:u})})]})]})},Ie=function(){var e=Object(n.useContext)(_),t=e.auditFunctions,a=e.editRullesModal,c=e.selectedRulle;return c?Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)($.a,{size:"lg",show:a,onHide:function(){return t({type:"closeEditModal"})},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(r.jsx)($.a.Header,{closeButton:!0,children:Object(r.jsx)($.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Rulle"})}),Object(r.jsx)($.a.Body,{children:Object(r.jsxs)(V.a,{onSubmit:function(e){e.preventDefault(),t({type:"editRulle"})},children:[Object(r.jsx)(V.a.Row,{style:{width:"50%"},children:Object(r.jsxs)(V.a.Group,{as:Ce.a,controlId:"formGridEmail",children:[Object(r.jsx)(V.a.Label,{children:"Family"}),Object(r.jsx)(we,{onChange:function(e){return t({type:"editSelectedRulle",payload:Object(u.a)(Object(u.a)({},c),{},{sofs:e.value})})},valueSelected:{value:c.sofs,label:c.sofs}})]})}),Object(r.jsxs)(V.a.Row,{children:[Object(r.jsxs)(V.a.Group,{as:Ce.a,controlId:"issue",children:[Object(r.jsx)(V.a.Label,{children:"Issue"}),Object(r.jsx)(ee,{required:!0,value:c.issue,type:"text",placeholder:"Issue",onChange:function(e){return t({type:"editSelectedRulle",payload:Object(u.a)(Object(u.a)({},c),{},{issue:e})})}})]}),Object(r.jsxs)(V.a.Group,{as:Ce.a,controlId:"inspectable",children:[Object(r.jsx)(V.a.Label,{children:"Inspectable"}),Object(r.jsx)(ee,{required:!0,value:c.inspectable,type:"text",placeholder:"Inspectable",onChange:function(e){return t({type:"editSelectedRulle",payload:Object(u.a)(Object(u.a)({},c),{},{inspectable:e})})}})]})]}),Object(r.jsxs)(V.a.Row,{children:[Object(r.jsxs)(V.a.Group,{xs:2,as:Ce.a,controlId:"1points",children:[Object(r.jsx)(V.a.Label,{children:"Points"}),Object(r.jsx)(ee,{required:!0,type:"number",onChange:function(e){return t({type:"editSelectedRulle",payload:Object(u.a)(Object(u.a)({},c),{},{point1:e})})},value:c.point1})]}),Object(r.jsxs)(V.a.Group,{as:Ce.a,controlId:"1rulles",children:[Object(r.jsx)(V.a.Label,{children:"Rulles"}),Object(r.jsx)(ee,{required:!0,type:"text",value:c.rulle1,onChange:function(e){return t({type:"editSelectedRulle",payload:Object(u.a)(Object(u.a)({},c),{},{rulle1:e})})}})]})]}),Object(r.jsxs)(V.a.Row,{children:[Object(r.jsxs)(V.a.Group,{xs:2,as:Ce.a,controlId:"2points",children:[Object(r.jsx)(V.a.Label,{children:"Points"}),Object(r.jsx)(ee,{required:!0,type:"number",value:c.point2,onChange:function(e){return t({type:"editSelectedRulle",payload:Object(u.a)(Object(u.a)({},c),{},{point2:e})})}})]}),Object(r.jsxs)(V.a.Group,{as:Ce.a,controlId:"2rulles",children:[Object(r.jsx)(V.a.Label,{children:"Rulles"}),Object(r.jsx)(ee,{required:!0,type:"text",value:c.rulle2,onChange:function(e){return t({type:"editSelectedRulle",payload:Object(u.a)(Object(u.a)({},c),{},{rulle2:e})})}})]})]}),Object(r.jsxs)(V.a.Row,{children:[Object(r.jsxs)(V.a.Group,{xs:2,as:Ce.a,controlId:"3points",children:[Object(r.jsx)(V.a.Label,{children:"Points"}),Object(r.jsx)(ee,{required:!0,type:"number",value:c.point3,onChange:function(e){return t({type:"editSelectedRulle",payload:Object(u.a)(Object(u.a)({},c),{},{point3:e})})}})]}),Object(r.jsxs)(V.a.Group,{controlId:"3rulles",as:Ce.a,children:[Object(r.jsx)(V.a.Label,{children:"Rulles"}),Object(r.jsx)(ee,{required:!0,type:"text",value:c.rulle3,onChange:function(e){return t({type:"editSelectedRulle",payload:Object(u.a)(Object(u.a)({},c),{},{rulle3:e})})}})]})]}),Object(r.jsx)($.a.Footer,{children:Object(r.jsx)(K.a,{variant:"primary",type:"submit",children:"Submit"})})]})})]})}):""},Le=function(){var e=Object(n.useContext)(_).auditFunctions;return Object(n.useEffect)((function(){e({type:"getFamilyOptions"}),e({type:"getRulles"})}),[]),Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)(Te,{}),Object(r.jsx)(Se,{}),Object(r.jsx)(Ie,{})]})},ze=Object(n.createContext)(),Fe=function(){var e=localStorage.getItem("JwtToken"),t=Object(n.useContext)(p).user,a=Object(n.useContext)(ze),c=Object(j.a)(a,2)[1],s=Object(n.useState)([]),i=Object(j.a)(s,2),o=i[0],d=i[1];return Object(n.useEffect)((function(){(function(){var a=Object(k.a)(g.a.mark((function a(){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.a.post(S.a+"/api/audit/all",{company:t.company},{headers:{"auth-token":e}});case 2:r=a.sent,d(r.data);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}),[t,e]),Object(r.jsxs)(W.a,{children:[Object(r.jsx)("h1",{style:{fontSize:40,color:"#ff6600",fontWeight:"bold"},children:"Audit List"}),Object(r.jsxs)(ce.a,{size:"sm",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{style:{fontSize:18,color:"#ff6600"},children:[Object(r.jsx)("td",{children:"Name"}),Object(r.jsx)("td",{children:"Place"}),Object(r.jsx)("td",{children:"Audit Date"}),Object(r.jsx)("td",{children:"Status"}),Object(r.jsx)("td",{children:"View"})]})}),Object(r.jsx)("tbody",{children:o.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsxs)("td",{children:[e.name," "]}),Object(r.jsx)("td",{children:e.area}),Object(r.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString("fr-CA")}),Object(r.jsx)("td",{children:e.status}),Object(r.jsxs)("td",{children:[Object(r.jsx)(K.a,{as:l.b,to:"/auditresult",size:"sm",variant:"success",onClick:function(){return c(Object(u.a)({},e))},children:"View"}),Object(r.jsx)(K.a,{size:"sm",variant:"danger",children:"Archive"})]})]},e._id)}))})]})]})},Ae=function(){var e={width:"80%"};return Object(r.jsx)(c.a.Fragment,{children:Object(r.jsx)(W.a,{fluid:!0,children:Object(r.jsxs)(J.a,{style:{marginTop:"10%"},children:[Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(K.a,{size:"lg",as:l.b,to:"/Places",style:e,children:[Object(r.jsx)("h2",{children:"Places"}),Object(r.jsx)(ie.c,{size:"30%"})]})}),Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(K.a,{size:"lg",as:l.b,to:"/obstypes",style:e,children:[Object(r.jsx)("h2",{children:"Observation types"}),Object(r.jsx)(ie.d,{size:"23%"})]})}),Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(K.a,{size:"lg",as:l.b,to:"/user/create",style:e,children:[Object(r.jsx)("h2",{children:"Users"}),Object(r.jsx)(ie.f,{size:"31%"})]})}),Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(K.a,{size:"lg",as:l.b,to:"/auditrulles",style:e,children:[Object(r.jsx)("h2",{children:"Audit rulles"}),Object(r.jsx)(ie.b,{size:"31%"})]})})]})})})},Me=(a(116),a(113),function(){var e=Object(n.useContext)(M),t=e.User,a=e.userFunctions,c=Object(n.useState)(""),s=Object(j.a)(c,2),i=s[0],l=s[1],o=Object(n.useState)(""),u=Object(j.a)(o,2),d=u[0],b=u[1],O=Object(n.useState)(""),p=Object(j.a)(O,2),h=p[0],x=p[1];return Object(r.jsxs)("div",{style:{marginLeft:"40%",width:"15%",marginTop:"10%"},children:[Object(r.jsx)("h1",{children:t.name||""}),Object(r.jsxs)(V.a,{children:[Object(r.jsxs)(V.a.Group,{children:[Object(r.jsx)(V.a.Label,{children:"NewPassword"}),Object(r.jsx)(V.a.Control,{placeholder:"NewPassword",onChange:function(e){l(e.target.value),x("")},value:i,type:"password"})]}),Object(r.jsxs)(V.a.Group,{children:[Object(r.jsx)(V.a.Label,{children:"Confirm NewPassword"}),Object(r.jsx)(V.a.Control,{placeholder:"Confirm NewPassword",onChange:function(e){return b(e.target.value)},value:d,type:"password"})]}),Object(r.jsx)("h5",{style:{color:"red"},children:h}),Object(r.jsx)(K.a,{onClick:function(){return i===d?a({type:"changePassword",payload:i}):x("Password doest match"),b(""),void l("")},variant:"success",children:"Submit"})]})]})}),Re=a(60),Ne=function(e){var t=e.placeholder,a=e.valueSelected,n=e.onChange;return Object(r.jsx)(te.a,{options:[{value:"Low",label:"Low"},{value:"High",label:"High"},{value:"Very High",label:"Very High"}],onChange:function(e){return n(e)},placeholder:t,value:a,theme:function(e){return Object(u.a)(Object(u.a)({},e),{},{borderRadius:4,borderThickness:1,colors:Object(u.a)(Object(u.a)({},e.colors),{},{boxShadow:"#aaaaaa",primary:"#aaaaaa",primary25:"neutral5"})})}})},Ge=function(e){var t=e.placeholder,a=e.valueSelected,c=e.onChange,s=e.clear,i=Object(n.useContext)(M),l=i.allUsers,o=i.userFunctions,j=[];return Object(n.useEffect)((function(){o({type:"getAllUsers"})}),[]),l.forEach((function(e){j.push({value:e._id,label:e.name})})),Object(r.jsx)(te.a,{isClearable:s,options:j,onChange:function(e){return c(e)},placeholder:t,value:a,theme:function(e){return Object(u.a)(Object(u.a)({},e),{},{borderRadius:4,borderThickness:1,colors:Object(u.a)(Object(u.a)({},e.colors),{},{boxShadow:"#aaaaaa",primary:"#aaaaaa",primary25:"neutral5"})})}})},Ee=function(e){var t=e.placeholder,a=e.valueSelected,n=e.onChange;return Object(r.jsx)(te.a,{options:[{value:"New",label:"New"},{value:"Updated",label:"Updated"},{value:"Approved",label:"Approved"},{value:"Approved confirmed",label:"Approved confirmed"}],onChange:function(e){return n(e)},placeholder:t,value:a,theme:function(e){return Object(u.a)(Object(u.a)({},e),{},{borderRadius:4,borderThickness:1,colors:Object(u.a)(Object(u.a)({},e.colors),{},{boxShadow:"#aaaaaa",primary:"#aaaaaa",primary25:"neutral5"})})}})},De=function(e){var t=e.placeholder,a=e.valueSelected,c=e.onChange,s=e.clear,i=Object(n.useContext)(q),l=i.observationtype,o=i.taskFunctions,j=[];return Object(n.useEffect)((function(){o({type:"getObservationTypes"})}),[]),l.forEach((function(e){j.push({value:e._id,label:e.observationName})})),Object(r.jsx)(te.a,{isClearable:s,options:j,onChange:function(e){return c(e)},placeholder:t,value:a,theme:function(e){return Object(u.a)(Object(u.a)({},e),{},{borderRadius:4,borderThickness:1,colors:Object(u.a)(Object(u.a)({},e.colors),{},{boxShadow:"#aaaaaa",primary:"#aaaaaa",primary25:"neutral5"})})}})},Ue=a(54),_e=a.n(Ue);a(106);var Be=function(e){var t=e.setDate,a=e.available,s=e.selectedDate,i=Object(n.useState)(new Date),l=Object(j.a)(i,2),o=l[0],u=l[1],d=c.a.createRef(),b=Object(n.useState)("n"),O=Object(j.a)(b,2),p=O[0],h=O[1],x=Object(n.useState)((new Date).toLocaleDateString("lt-LT")),f=Object(j.a)(x,1)[0],m=Object(n.forwardRef)((function(e,t){var n=e.onClick,c=e.value;return Object(r.jsx)(K.a,{onClick:n,onChange:n,ref:t,style:{fontSize:15,paddingTop:"3%",paddingBottom:"3%"},size:"sm",variant:"outline-primary",disabled:a,children:s?new Date(s).toLocaleDateString("lt-LT"):"n"===p?f:c})}));return Object(r.jsx)(_e.a,{dateFormat:"yyyy-MM-dd",selected:o,onChange:function(e){u(e),t(e),h(e)},customInput:Object(r.jsx)(m,{ref:d}),disabled:a})},qe=function(){var e=Object(n.useContext)(q),t=e.taskFunctions,a=e.createModal,s=Object(n.useState)(Object(Re.a)({issue:"",placeId:"",creatorId:"",responsibleId:"",observationId:"",status:"",comment:"",priority:"",deadline:""},"status","")),i=Object(j.a)(s,2),l=i[0],o=i[1];return Object(r.jsx)(c.a.Fragment,{children:Object(r.jsxs)($.a,{animation:!0,centered:!0,size:"xl",show:a,onHide:function(){return t({type:"createModal"})},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(r.jsx)($.a.Header,{closeButton:!0,style:{backgroundColor:"#163a5f",color:"white"},children:Object(r.jsx)($.a.Title,{id:"example-modal-sizes-title-lg",children:"Create Observation"})}),Object(r.jsxs)($.a.Body,{children:[Object(r.jsxs)(J.a,{children:[Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(V.a.Group,{controlId:"textinput1",children:[Object(r.jsx)(V.a.Label,{children:"Description"}),Object(r.jsx)(V.a.Control,{as:"textarea",rows:3,onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{issue:e.target.value}))}})]})}),Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(V.a.Group,{controlId:"textinput2",children:[Object(r.jsx)(V.a.Label,{children:"Action"}),Object(r.jsx)(V.a.Control,{as:"textarea",rows:3,onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{comment:e.target.value}))}})]})})]}),Object(r.jsxs)(J.a,{children:[Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(V.a.Group,{controlId:"textinput3",children:[Object(r.jsx)(V.a.Label,{children:"Place"}),Object(r.jsx)(ae,{onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{placeId:e.value}))},clear:!1})]})}),Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(V.a.Group,{controlId:"textinput3",children:[Object(r.jsx)(V.a.Label,{children:"Responsible"}),Object(r.jsx)(Ge,{onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{responsibleId:e.value}))},clear:!1})]})}),Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(V.a.Group,{controlId:"textinput4",children:[Object(r.jsx)(V.a.Label,{children:"Priority"}),Object(r.jsx)(Ne,{onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{priority:e.value}))}})]})}),Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(V.a.Group,{controlId:"textinput5",children:[Object(r.jsx)(V.a.Label,{children:"Status"}),Object(r.jsx)(Ee,{onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{status:e.value}))}})]})}),Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(V.a.Group,{controlId:"textinput7",children:[Object(r.jsx)(V.a.Label,{children:"Observation"}),Object(r.jsx)(De,{onChange:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{observationId:e.value}))}})]})})]}),Object(r.jsxs)(J.a,{children:[Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(V.a.Group,{controlId:"textinput6",children:[Object(r.jsx)(J.a,{style:{marginLeft:"0%"},children:Object(r.jsx)(V.a.Label,{children:"Deadlien"})}),Object(r.jsx)(Be,{setDate:function(e){return o(Object(u.a)(Object(u.a)({},l),{},{deadline:e}))}})]})}),Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(V.a.File,{id:"formcheck-api-regular",children:[Object(r.jsx)(V.a.File.Label,{children:"Select Image"}),Object(r.jsx)(V.a.File.Input,{})]})}),Object(r.jsx)(Ce.a,{}),Object(r.jsx)(Ce.a,{})]})]}),Object(r.jsx)($.a.Footer,{children:Object(r.jsx)(K.a,{size:"sm",onClick:function(){t({type:"createTask",payload:l})},children:"Submit"})})]})})},He=a(115),We=function(e){var t=e.onClick;return Object(r.jsx)(K.a,{size:"sm",onClick:t,children:Object(r.jsx)(He.a,{size:"1rem",color:"#ff7f50"})})},Je=function(){var e=Object(n.useContext)(q),t=e.taskFunctions,a=e.tasks,s=Object(n.useState)(14),i=Object(j.a)(s,1)[0],l=Object(n.useState)(1),o=Object(j.a)(l,2),u=o[0],d=o[1],b=he(a,u,i);return a?Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)(K.a,{style:{marginBottom:"1%",marginLeft:"1%"},size:"sm",onClick:function(){return t({type:"createModal"})},children:"Create Observation"}),Object(r.jsx)(J.a,{style:{margin:"1%"},children:Object(r.jsxs)(ce.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(r.jsx)("thead",{style:{backgroundColor:"#2f3c48",color:"white",textAlign:"center"},children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"Nr"}),Object(r.jsx)("td",{children:"Issue"}),Object(r.jsx)("td",{children:"Place"}),Object(r.jsx)("td",{children:"Responsible"}),Object(r.jsx)("td",{children:"Comment"}),Object(r.jsx)("td",{children:"Observation"}),Object(r.jsx)("td",{children:"Observation Category"}),Object(r.jsx)("td",{children:"Creator"}),Object(r.jsx)("td",{children:"Status"}),Object(r.jsx)("td",{children:"Priority"}),Object(r.jsx)("td",{children:"Deadline"}),Object(r.jsx)("td",{children:"Archive"})]})}),Object(r.jsx)("tbody",{children:b.map((function(e){return Object(r.jsxs)("tr",{style:{textAlign:"center",cursor:"pointer"},onDoubleClick:function(){return t({type:"editTaskModal",payload:{id:e._id,creator:e.creator,issue:e.issue,comment:e.comment,deadline:e.deadline,observationtype:{value:e.observationtype._id,label:e.observationtype.observationName},place:{value:e.place._id,label:e.place.placeName},priority:{value:e.priority,label:e.priority},responsible:{value:e.responsible._id,label:e.responsible.name},status:{value:e.status,label:e.status}}})},children:[Object(r.jsx)("td",{children:e.seq}),Object(r.jsx)("td",{children:e.issue}),Object(r.jsx)("td",{children:e.place?e.place.placeName:""}),Object(r.jsx)("td",{children:e.responsible?e.responsible.name:""}),Object(r.jsx)("td",{children:e.comment}),Object(r.jsx)("td",{children:e.observationtype?e.observationtype.observationName:""}),Object(r.jsx)("td",{children:e.observationCategory}),Object(r.jsx)("td",{children:e.creator?e.creator.name:""}),Object(r.jsx)("td",{children:e.status}),Object(r.jsx)("td",{children:e.priority?e.priority:""}),Object(r.jsx)("td",{children:(a=e.deadline,void 0!==a?new Date(a).toLocaleDateString("fr-CA"):null)}),Object(r.jsx)("td",{children:Object(r.jsx)(We,{onClick:function(){return t({type:"archive",payload:e._id})}})})]},e._id);var a}))})]})}),Object(r.jsx)(J.a,{className:"justify-content-md-center",children:Object(r.jsx)(xe,{pageSize:i,count:a.length,onPageChange:function(e){d(e)},currentPage:u})})]}):"...Loding"},Ve=function(){var e=Object(n.useContext)(q),t=e.taskFunctions,a=e.editTaskModal,s=e.selectedTask;return Object(r.jsx)(c.a.Fragment,{children:Object(r.jsxs)($.a,{animation:!0,centered:!0,size:"xl",show:a,onHide:function(){return t({type:"closeEditTaskModal"})},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(r.jsx)($.a.Header,{closeButton:!0,style:{backgroundColor:"#2f3c48",color:"white"},children:Object(r.jsx)($.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Observation"})}),Object(r.jsxs)($.a.Body,{children:[Object(r.jsxs)(J.a,{children:[Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(V.a.Group,{controlId:"textinput1",children:[Object(r.jsx)(V.a.Label,{children:"Description"}),Object(r.jsx)(V.a.Control,{as:"textarea",rows:3,onChange:function(e){return t({type:"editSelectedTask",payload:Object(u.a)(Object(u.a)({},s),{},{issue:e.target.value})})},value:s.issue})]})}),Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(V.a.Group,{controlId:"textinput2",children:[Object(r.jsx)(V.a.Label,{children:"Action"}),Object(r.jsx)(V.a.Control,{as:"textarea",rows:3,onChange:function(e){return t({type:"editSelectedTask",payload:Object(u.a)(Object(u.a)({},s),{},{comment:e.target.value})})},value:s.comment})]})})]}),Object(r.jsxs)(J.a,{children:[Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(V.a.Group,{controlId:"textinput3",children:[Object(r.jsx)(V.a.Label,{children:"Place"}),Object(r.jsx)(ae,{onChange:function(e){return t({type:"editSelectedTask",payload:Object(u.a)(Object(u.a)({},s),{},{place:e})})},valueSelected:s.place})]})}),Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(V.a.Group,{controlId:"textinput3",children:[Object(r.jsx)(V.a.Label,{children:"Responsible"}),Object(r.jsx)(Ge,{onChange:function(e){return t({type:"editSelectedTask",payload:Object(u.a)(Object(u.a)({},s),{},{responsible:e})})},valueSelected:s.responsible})]})}),Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(V.a.Group,{controlId:"textinput4",children:[Object(r.jsx)(V.a.Label,{children:"Priority"}),Object(r.jsx)(Ne,{onChange:function(e){return t({type:"editSelectedTask",payload:Object(u.a)(Object(u.a)({},s),{},{priority:e})})},valueSelected:s.priority})]})}),Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(V.a.Group,{controlId:"textinput5",children:[Object(r.jsx)(V.a.Label,{children:"Status"}),Object(r.jsx)(Ee,{onChange:function(e){return t({type:"editSelectedTask",payload:Object(u.a)(Object(u.a)({},s),{},{status:e})})},valueSelected:s.status})]})}),Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(V.a.Group,{controlId:"textinput7",children:[Object(r.jsx)(V.a.Label,{children:"Observation"}),Object(r.jsx)(De,{onChange:function(e){return t({type:"editSelectedTask",payload:Object(u.a)(Object(u.a)({},s),{},{observationtype:e})})},valueSelected:s.observationtype})]})})]}),Object(r.jsxs)(J.a,{children:[Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(V.a.Group,{controlId:"textinput6",children:[Object(r.jsx)(J.a,{style:{marginLeft:"0%"},children:Object(r.jsx)(V.a.Label,{children:"Deadlien"})}),Object(r.jsx)(Be,{selectedDate:s.deadline,setDate:function(e){return t({type:"editSelectedTask",payload:Object(u.a)(Object(u.a)({},s),{},{deadline:e})})}})]})}),Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(V.a.File,{id:"formcheck-api-regular",children:[Object(r.jsx)(V.a.File.Label,{children:"Select Image"}),Object(r.jsx)(V.a.File.Input,{})]})}),Object(r.jsx)(Ce.a,{}),Object(r.jsx)(Ce.a,{})]})]}),Object(r.jsx)($.a.Footer,{children:Object(r.jsx)(K.a,{size:"sm",onClick:function(e){e.preventDefault(),t({type:"editTask"})},children:"Submit"})})]})})},Ke=function(){var e=Object(n.useContext)(q).taskFunctions;return Object(n.useEffect)((function(){e({type:"getTasks"})}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{style:{fontWeight:"bold",color:"#2f3c48",padding:"1%"},children:"Observations"}),Object(r.jsx)(Je,{}),Object(r.jsx)(qe,{}),Object(r.jsx)(Ve,{})]})},Qe=function(){var e=Object(n.useContext)(D),t=e.obsFunctions,a=e.obsCreateModal,s=Object(n.useState)(""),i=Object(j.a)(s,2),l=i[0],o=i[1],u=Object(n.useState)(""),d=Object(j.a)(u,2),b=d[0],O=d[1],p=Object(n.useState)([]),h=Object(j.a)(p,2),x=h[0],f=h[1],m=Object(n.useState)(0),y=Object(j.a)(m,2),v=y[0],g=y[1];return Object(r.jsx)(c.a.Fragment,{children:Object(r.jsxs)($.a,{size:"lg",show:a,onHide:function(){return t({type:E.obsCreateModal})},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(r.jsx)($.a.Header,{closeButton:!0,children:Object(r.jsx)($.a.Title,{id:"example-modal-sizes-title-lg",children:"Create Observation type"})}),Object(r.jsx)($.a.Body,{children:Object(r.jsxs)(V.a,{children:[Object(r.jsxs)(J.a,{children:[Object(r.jsxs)(Ce.a,{xs:"5",children:[Object(r.jsx)("label",{children:"Observation type name"}),Object(r.jsx)(ee,{onChange:function(e){return O(e)},value:b})]}),Object(r.jsxs)(Ce.a,{xs:"5",children:[Object(r.jsx)("label",{children:"Observation Sub-Type"}),Object(r.jsx)(ee,{onChange:function(e){return o(e)},value:l})]}),Object(r.jsxs)(Ce.a,{children:[Object(r.jsx)("label",{children:"Add"}),Object(r.jsx)(K.a,{size:"sm",disabled:""===l,onClick:function(){return x.push(l),void o("")},children:"Add subType"})]})]}),x.length>0?Object(r.jsx)(J.a,{style:{marginTop:"2%"},children:Object(r.jsxs)(ce.a,{children:[Object(r.jsx)("thead",{style:{textAlign:"center"},children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"Sub-Type"}),Object(r.jsx)("td",{children:"Remove"})]})}),Object(r.jsx)("tbody",{style:{textAlign:"center"},children:x.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e}),Object(r.jsx)("td",{children:Object(r.jsx)(le,{onClick:function(){return e=t,x.splice(e,1),void g(v+1);var e}})})]})}))})]})}):""]})}),Object(r.jsx)($.a.Footer,{children:Object(r.jsx)(K.a,{size:"sm",onClick:function(){t({type:E.createObservationType,payload:{observationName:b,observationCategory:x}}),f([]),O("")},children:"Create"})})]})})},Xe=function(){var e=Object(n.useContext)(D),t=e.obsFunctions,a=e.selectedObs,s=e.obsEditModal,i=Object(n.useState)(""),l=Object(j.a)(i,2),o=l[0],d=l[1],b=function(){var e=Object(k.a)(g.a.mark((function e(r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.observationCategory.splice(r,1);case 2:t({type:E.editObsSelected,payload:Object(u.a)({},a)});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a?Object(r.jsx)(c.a.Fragment,{children:Object(r.jsxs)($.a,{size:"lg",show:s,onHide:function(){return t({type:E.closeEditObservationTypeModal})},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(r.jsx)($.a.Header,{closeButton:!0,children:Object(r.jsx)($.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Observation type"})}),Object(r.jsx)($.a.Body,{children:Object(r.jsxs)(V.a,{children:[Object(r.jsxs)(J.a,{children:[Object(r.jsxs)(Ce.a,{xs:"5",children:[Object(r.jsx)("label",{children:"Observation type name"}),Object(r.jsx)(ee,{onChange:function(e){return t({type:E.editObsSelected,payload:Object(u.a)(Object(u.a)({},a),{},{observationName:e})})},value:a.observationName})]}),Object(r.jsxs)(Ce.a,{xs:"5",children:[Object(r.jsx)("label",{children:"Observation Sub-Type"}),Object(r.jsx)(ee,{onChange:function(e){return d(e)},value:o})]}),Object(r.jsxs)(Ce.a,{children:[Object(r.jsx)("label",{children:"Add"}),Object(r.jsx)(K.a,{size:"sm",disabled:""===o,onClick:function(){a.observationCategory.push(o),d("")},children:"Add subType"})]})]}),a.observationCategory?Object(r.jsx)(J.a,{style:{marginTop:"2%"},children:Object(r.jsxs)(ce.a,{children:[Object(r.jsx)("thead",{style:{textAlign:"center"},children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"Sub-Type"}),Object(r.jsx)("td",{children:"Remove"})]})}),Object(r.jsx)("tbody",{style:{textAlign:"center"},children:a.observationCategory.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e}),Object(r.jsx)("td",{children:Object(r.jsx)(le,{onClick:function(){return b(t)}})})]})}))})]})}):""]})}),Object(r.jsx)($.a.Footer,{children:Object(r.jsx)(K.a,{size:"sm",onClick:function(){return t({type:E.editObservationtype})},children:"Update"})})]})}):""},Ye=function(){var e=Object(n.useContext)(D),t=e.obsFunctions,a=e.obsTypes,s=Object(n.useContext)(q).tasks,i=Object(n.useState)(10),l=Object(j.a)(i,1)[0],o=Object(n.useState)(1),u=Object(j.a)(o,2),d=u[0],b=u[1],O=he(a,d,l);return Object(r.jsxs)("div",{children:[Object(r.jsx)(J.a,{className:"justify-content-md-center",children:O.length<1?"":Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsxs)(ce.a,{striped:!0,bordered:!0,size:"sm",style:{width:"70%"},children:[Object(r.jsx)("thead",{style:{backgroundColor:"#2f3c48",color:"white",textAlign:"center"},children:Object(r.jsxs)("tr",{style:{textAlign:"center"},children:[Object(r.jsx)("td",{children:"Observation type"}),Object(r.jsx)("td",{children:"Sub-type"}),Object(r.jsx)("td",{children:"Open observations"}),Object(r.jsx)("td",{children:"Delete"})]})}),Object(r.jsx)("tbody",{children:O.map((function(e){return Object(r.jsxs)("tr",{style:{cursor:"pointer",textAlign:"center"},onDoubleClick:function(){return t({type:E.editObservationtypeModal,payload:{observationName:e.observationName,id:e._id,observationCategory:e.observationCategory}})},children:[Object(r.jsx)("td",{style:{verticalAlign:"middle",textAlign:"center"},children:e.observationName}),Object(r.jsx)("td",{children:e.observationCategory!==[]?e.observationCategory.map((function(t,a){return t+(a!==e.observationCategory.length-1?" ,":" .")})):""}),Object(r.jsx)("td",{children:de(s,e._id)}),Object(r.jsx)("td",{style:{verticalAlign:"middle",textAlign:"center",width:"10%"},children:Object(r.jsx)(le,{onClick:function(){return t({type:E.deleteObservationtype,payload:e._id})},children:"Delete"})})]},e._id)}))})]}),Object(r.jsx)(Qe,{}),Object(r.jsx)(Xe,{})]})}),Object(r.jsx)(J.a,{className:"justify-content-md-center",children:Object(r.jsx)(xe,{pageSize:l,count:a.length,onPageChange:function(e){b(e)},currentPage:d})})]})},Ze=function(){var e=Object(n.useContext)(D).obsFunctions;return Object(r.jsx)("div",{children:Object(r.jsxs)(J.a,{style:{marginTop:"2%",marginBottom:"2%",marginLeft:"14%"},children:[Object(r.jsx)(Ce.a,{xs:9,children:Object(r.jsx)("h1",{children:"Observation types"})}),Object(r.jsx)(Ce.a,{style:{marginTop:"1%",marginLeft:"-1%"},children:Object(r.jsx)(K.a,{size:"sm",onClick:function(){return e({type:E.obsCreateModal})},children:"Create"})})]})})},$e=function(){var e=Object(n.useContext)(D).obsFunctions;return Object(n.useEffect)((function(){e({type:E.getObservationTypes})}),[]),Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)(me,{}),Object(r.jsx)(W.a,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)(Ze,{}),Object(r.jsx)(Ye,{})]})})]})},et=function(){var e=Object(n.useContext)(D),t=e.modal,a=e.placeFunctions,c=e.selected;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)($.a,{size:"sm",show:t,onHide:function(){return a({type:G.closeEditPlaceModal})},"aria-labelledby":"example-modal-sizes-title-sm",children:[Object(r.jsx)($.a.Header,{closeButton:!0,children:Object(r.jsx)($.a.Title,{id:"example-modal-sizes-title-sm",children:"Edit Place"})}),Object(r.jsx)($.a.Body,{children:Object(r.jsxs)(V.a,{onSubmit:function(e){e.preventDefault(),a({type:G.editPlace})},children:[Object(r.jsxs)(V.a.Group,{controlId:"place",children:[Object(r.jsx)(V.a.Label,{children:"Place"}),Object(r.jsx)(ee,{value:c.placeName,onChange:function(e){return a({type:G.editSelectedData,payload:Object(u.a)(Object(u.a)({},c),{},{placeName:e})})}}),Object(r.jsx)(V.a.Text,{className:"text-muted"})]}),Object(r.jsxs)(V.a.Group,{children:[Object(r.jsx)(V.a.Label,{children:"Responsible"}),Object(r.jsx)(Ge,{onChange:function(e){return a({type:G.editSelectedData,payload:Object(u.a)(Object(u.a)({},c),{},{user:e})})},valueSelected:c.user})]}),Object(r.jsx)(K.a,{disabled:!c.user,type:"submit",children:"Update"})]})})]})})},tt=function(){var e=Object(n.useContext)(D),t=e.placeFunctions,a=e.places,s=Object(n.useContext)(M).allUsers,i=Object(n.useContext)(q).tasks,l=Object(n.useState)(10),o=Object(j.a)(l,1)[0],u=Object(n.useState)(1),d=Object(j.a)(u,2),b=d[0],O=d[1],p=he(a,b,o);return Object(r.jsxs)("div",{children:[Object(r.jsx)(J.a,{className:"justify-content-md-center",children:p.length<1?"":Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsxs)(ce.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(r.jsx)("thead",{style:{backgroundColor:"#2f3c48",color:"white",textAlign:"center"},children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"Place Name"}),Object(r.jsx)("td",{children:"Users assigned"}),Object(r.jsx)("td",{children:"Open observations"}),Object(r.jsx)("td",{children:"Responsible"}),Object(r.jsx)("td",{children:"Delete"})]})}),Object(r.jsx)("tbody",{children:p.map((function(e){return Object(r.jsxs)("tr",{style:{textAlign:"center",cursor:"pointer"},onDoubleClick:function(){t({type:G.EditPlaceModal,payload:{id:e._id,placeName:e.placeName,user:{value:e.responsible?e.responsible._id:null,label:e.responsible?e.responsible.name:null}}})},children:[Object(r.jsx)("td",{children:e.placeName}),Object(r.jsx)("td",{children:je(s,e._id)}),Object(r.jsx)("td",{children:ue(i,e._id)}),Object(r.jsx)("td",{children:null!==e.responsible?e.responsible.name:Object(r.jsx)("h6",{style:{color:"red"},children:"No responsible"})}),Object(r.jsx)("td",{children:Object(r.jsx)(le,{onClick:function(){return t({type:G.deletePlace,payload:{id:e._id,userId:e.responsible?e.responsible._id:""}})},style:{marginLeft:"1%"},children:"Delete"})})]},e._id)}))})]}),Object(r.jsx)(xe,{pageSize:o,count:a.length,onPageChange:function(e){O(e)},currentPage:b})]})}),Object(r.jsx)(et,{})]})},at=function(){var e=Object(n.useContext)(D).placeFunctions,t=Object(n.useState)(""),a=Object(j.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(""),l=Object(j.a)(i,2),o=l[0],u=l[1];return Object(r.jsx)("div",{style:{marginBottom:"2%",marginTop:"5%"},children:Object(r.jsx)(V.a,{onSubmit:function(t){t.preventDefault(),e({type:G.createPlace,payload:{placeName:c,responsible:o.value}}),s(""),u("")},children:Object(r.jsxs)(V.a.Row,{children:[Object(r.jsx)(V.a.Group,{as:Ce.a,controlId:"formGridEmail",children:Object(r.jsx)(V.a.Label,{style:{fontSize:36,marginTop:"3%"},children:"Places"})}),Object(r.jsxs)(V.a.Group,{as:Ce.a,children:[Object(r.jsx)(V.a.Label,{children:"Place name"}),Object(r.jsx)(ee,{value:c,onChange:function(e){return s(e)},placeholder:"Enter place name"})]}),Object(r.jsxs)(V.a.Group,{as:Ce.a,controlId:"2",children:[Object(r.jsx)(V.a.Label,{children:"Responsible"}),Object(r.jsx)(Ge,{placeholder:"Select user",onChange:function(e){return u(e)},valueSelected:o})]}),Object(r.jsx)(Ce.a,{xs:"auto",style:{marginTop:"2.5%"},children:Object(r.jsx)(K.a,{type:"submit",className:"mb-2",children:"Create"})})]})})})},rt=function(){var e=Object(n.useContext)(D).placeFunctions;return Object(n.useEffect)((function(){e({type:G.getPlaces})}),[]),Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)(me,{}),Object(r.jsx)(W.a,{style:{width:"80%"},children:Object(r.jsxs)("div",{children:[Object(r.jsx)(at,{}),Object(r.jsx)(tt,{})]})})]})},nt=function(){return Object(r.jsx)(x,{children:Object(r.jsx)(R,{children:Object(r.jsx)(U,{children:Object(r.jsx)(H,{children:Object(r.jsx)(y,{children:Object(r.jsx)(B,{children:Object(r.jsxs)(l.a,{children:[Object(r.jsx)(Z,{}),Object(r.jsx)(W.a,{fluid:!0,children:Object(r.jsxs)(o.d,{children:[Object(r.jsx)(o.b,{path:"/login",exact:!0,component:Q}),Object(r.jsx)(ge,{path:"/user/create",exact:!0,component:ye}),Object(r.jsx)(ke,{path:"/user/profile",exact:!0,component:Me}),Object(r.jsx)(ke,{path:"/audit",exact:!0,component:Fe}),Object(r.jsx)(ke,{path:"/tasks",exact:!0,component:Ke}),Object(r.jsx)(ge,{path:"/settings",exact:!0,component:Ae}),Object(r.jsx)(ge,{path:"/places",exact:!0,component:rt}),Object(r.jsx)(ge,{path:"/obstypes",exact:!0,component:$e}),Object(r.jsx)(ge,{path:"/auditrulles",ecact:!0,component:Le}),Object(r.jsx)(o.a,{to:"/tasks"})]})})]})})})})})})})};a(211);i.a.render(Object(r.jsx)(nt,{}),document.getElementById("root"))},26:function(e){e.exports=JSON.parse('{"a":"https://justintime.lv"}')}},[[212,1,2]]]);
//# sourceMappingURL=main.36341a0d.chunk.js.map